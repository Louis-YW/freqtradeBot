{
  "id": "topic_5468983",
  "title": "satscraper",
  "author": "satscraper",
  "created_time": "October 03, 2023, 03:24:49 AM",
  "content": "Кошельки с мультиподписью. Инструкции и обсуждение.[1] Последние месяцы в русском разделе форума я наблюдаю стабильно растущий интерес к  темам, связанным с мультиподписными кошельками. Мой поиск соответствующих форумных руководств по созданию таких кошельков практически не дал результатов. Это обстоятельство в некоторой степени удивило меня . Поэтому я решил исправить  ситуацию, представив подробную  инструкцию по созданию мультиподписного кошелька 2-из-2 с двумя подписантами, в качестве которых были выбраны аппаратный кошелёк Passport 2 и программный кошелек Sparrow.Предварительные требования: Наличие аппаратного кошелька Passport 2/Passport Foundation и установленный програмный кошелёк Sparrow.1) Откройте Sparrow и выберите опцию «'New Wallet'» в его меню «File». В появившемся подокне назначте имя  этого кошелька. Я выбрал для мени  «Multisig Wallet», но вы можете выбрать любое имя, которое вам больше нравится:Quote from: satscraperНажмите кнопку  “Create wallet”2) В следующем подокне выберите «Multi Signature» в ниспадающем меню «Policy Type» (расположено в верхнем левом углу) и используйте верхний правый ползунок, чтобы настроить количество подписантов. В этом примере ползунок установлен в положение 2/2.Quote from: satscraperВыберите «Keystore 1», а затем нажмите «New or Imported Software Wallet». (Этот шаг предписывает клиенту Sparrow создать первого подписанта, которым будет сам Sparrow).3) В следующем подокне используйте раскрывающееся меню, расположенное в правом верхнем углу, чтобы выбрать количество мнемонических слов BIP 39. Для этого примера выбрано 12 слов. Нажмите  кнопку «Generate New», и вы получите набор слов, относящихся к кошельку, совместимому с BIP 39:Quote from: satscraper(Не используйте слова, показанные на картинке выше. Они выбраны для этого примера)Запишите эти слова, еще раз просмотрите их на предмет возможных ошибок, а затем нажмите «Confirm Backup...'», а после всплывающего окна — «Re-enter words».4) Повторно введите записанные вами слова в соответствующие поля следующего подокна:Quote from: satscraperВвод правильной информации и нажатие «Create Keystore» приведет к созданию набора ключей, которые можно будет импортировать в ваш мультиподписной кошелек с помощью кнопки «Import Keystore» в следующем подокне:Quote from: satscraper5) Теперь приступайте к созданию  ключей для вашего устройства Passport 2. Перейдите на вкладку «Keystore 2», а затем выберите «АAirgapped Hardware Wallet».Quote from: satscraperВ новом подокне появится  список аппаратных кошельков.Quote from: satscraperНайдите в списке «Passport Multisig» и нажмите «Scan..». (Я предпочитаю QR-коды, и с этого момента я буду ссылаться исключительно на этот метод. Однако, если вы предпочитаете сопряжение через SD-карту, нажмите «Import File». .').6) Теперь пришло время перейти к аппаратному кошельку  Passport.Включите его, введите правильный PIN-код (в этих инструкциях я не буду использовать пароль для соответствующей учетной записи, но вы можете его использовать) и найдите «Manage Account».Quote from: satscraperВыберите его правой кнопкой на устройстве.На следующем экране будет представлен список опций. Выберите «Connect Wallet», затем на следующем экране найдите  «Sparrow» и нажмите его правой кнопкой устройства.Quote from: satscraperНа обновленном экране  Passport выберите «Multisig», затем на следующем экране нажмите «QR Code». Вам будет предложено отсканировать в Sparrow QR-код, отображаемый на следующем экране.Quote from: satscraperСделайте это (кстати, QR-код динамический).После завершения сканирования Sparrow соответствующая информация появится во его вкладке «Passport»: Quote from: satscraperНа этой вкладке нажмите кнопку «Apply».7) Перейдите к следующему шагу в кошельке Passport. Вам будет предложено импортировать конфигурацию multisig из Sparrow через QR-код:Quote from: satscraperДля этого нажмите на вкладку « Sparrow,» в Sparrow, затем нажмите кнопку «Export». В следующем подокне нажмите кнопку «Show...», расположенную рядом с записью «Passport Multisig»: Quote from: satscraperОтсканируйте динамический QR-код в устройство Passport. После завершения сканирования на экране Passport появится сообщение с запросом разрешения на создание нового мультиподписного кошелька:Quote from: satscraperПодтвердите создание.После подтверждения Passport предложит вам проверить правильность подключения кошелька:Quote from: satscraper8.) Дважды щелкните любой адрес получения и введите соответствующий QR-код в сканер паспорта. После завершения сканирования этот адрес появится на экране паспорта. Одобрите его, если он верен.Вот и все! Теперь в вашем арсенале есть мультиподписной кошелек 2 из 2. Приведенные выше инструкции можно легко адаптировать для разных типов подписантови их количества в мультиподписном кошельке N-of-M.Краткое руководство о том, как отправить средства из кошелька с мультиподписью, продемонстрированное с использованием кошелька, созданного с помощью приведенных выше инструкций.Чтобы инициировать транзакцию, вам необходимо подписать ее двумя закрытыми ключами, принадлежащими разным отправителям — Sparrow и Passport. После нажатия кнопки «Sign» Sparrow автоматически обработает процесс, отобразив полосу, заполненную синим цветом, что означает, что первый поручитель успешно выполнил свою часть работы:Quote from: satscraper]Далее нажмите «Sign» второй раз. Sparrow сгенерирует динамический QR-код для транзакции с мультиподписью. Вам необходимо отсканировать этот код с помощью сканера устройства Passport. После завершения сканирования Passport отобразит подписанный QR-код для транзакции с мультиподписью. Введите этот код обратно в Sparrow, нажав «Scan QR» в окне транзакции (см. рисунок выше). После успешного сканирования вы должны увидеть следующее: Quote from: satscraperНаконец, нажмите кнопку «Broadcast Transaction», чтобы завершить процесс.**********************************************[1].  Замечание для тех, кто предпочитает читать в оригинале - инструкция первоначально опубликована в общем разделе форума",
  "score": 0,
  "upvotes": 0,
  "downvotes": 0,
  "url": "https://bitcointalk.org/index.php?topic=5468983",
  "comments": [
    {
      "author": "satscraper",
      "created_time": "October 03, 2023, 03:29:19 AM",
      "body": "reserved",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "igor72",
      "created_time": "October 03, 2023, 04:21:15 AM",
      "body": "В инструкции не хватает описания процедуры проверки приемного адреса.p.s. Когда ж уже разрабы Sparrow додумаются уменьшить на порядок эти синие кнопки слева? Неужели это кому-то нравится?)",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "satscraper",
      "created_time": "October 03, 2023, 04:44:00 AM",
      "body": "Quote from: igor72 on October 03, 2023, 04:21:15 AMВ инструкции не хватает описания процедуры проверки приемного адреса.p.s. Когда ж уже разрабы Sparrow додумаются уменьшить на порядок эти синие кнопки слева? Неужели это кому-то нравится?)Спасибо за отзыв.Хотя и короткая, но часть, посвященная процедуре проверки приемного адреса в инструкции  существует:Quote from: satscraper on October 03, 2023, 03:24:49 AMПосле подтверждения Passport предложит вам проверить правильность подключения кошелька:Quote from: satscraper8.) Дважды щелкните любой адрес получения и введите соответствующий QR-код в сканер паспорта. После завершения сканирования этот адрес появится на экране паспорта. Одобрите его, если он верен.Если этоа часть не понятная, то я могу её расширить. Что на ваш взгляд не понятно?Quote from: igor72 on October 03, 2023, 04:21:15 AMp.s. Когда ж уже разрабы Sparrow додумаются уменьшить на порядок эти синие кнопки слева? Неужели это кому-то нравится?)Ну у меня к дизайну притензий нет. Мне всё нравится. Большие кнопки не пропустить.   И главное функционал Sparrow нравится, всё удобно, сделано как говорится  с умом.",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "igor72",
      "created_time": "October 03, 2023, 05:40:03 AM",
      "body": "Quote from: satscraper on October 03, 2023, 04:44:00 AMЕсли этоа часть не понятная, то я могу её расширить. Что на ваш взгляд не понятно?Уже мне всё понятно, благодарю. Почему-то я этот пункт сразу не увидел или не понял.QuoteНу у меня к дизайну притензий нет. Мне всё нравится. Большие кнопки не пропустить.   И главное функционал Sparrow нравится, всё удобно, сделано как говорится  с умом.А у меня к дизайну основные претензии, сделано аляповато. В Электруме, кстати, дизайн тоже постепенно портится, на мой вкус. По функционалу, в общем, порядок. Кое-чего мне не хватает (работы с приватниками, например), кое-что есть уникальное, пусть даже практически никому не нужное (вроде Sighash).",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "satscraper",
      "created_time": "October 05, 2023, 06:45:43 AM",
      "body": "Quote from: igor72 on October 03, 2023, 05:40:03 AMу меня к дизайну основные претензии, сделано аляповато. В Электруме, кстати, дизайн тоже постепенно портится, на мой вкус. По функционалу, в общем, порядок. Кое-чего мне не хватает (работы с приватниками, например), кое-что есть уникальное, пусть даже практически никому не нужное (вроде Sighash).Если честно, то я мало обращаю внимания на все эти финтифлюшки в дизайне. Главное для меня , чтобы  дизайн был незатейлевый и не заставлял долго думать при совершении действий.В Электрум мне не хватает возможности сопряжения с кошельками через QR коды и  прямого его подключения к Bitcoin Core. Знаю, что есть персональный Электрум сервер, но я никогда его не использовал, так как привык к своей ноде на Bitcoin Core.Если бы всёэто было, можно было бы попробовать  создать мультисиг, взяв за основу  Электрум.",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "igor72",
      "created_time": "October 05, 2023, 10:07:19 AM",
      "body": "Quote from: satscraper on October 05, 2023, 06:45:43 AMВ Электрум мне не хватает возможности сопряжения с кошельками через QR коды и  прямого его подключения к Bitcoin Core. Знаю, что есть персональный Электрум сервер, но я никогда его не использовал, так как привык к своей ноде на Bitcoin Core.Да, в вашем случае Sparrow - оптимальный вариант. Только я бы все-таки на вашем месте поставил electrs, раз нода уже есть. Хотя, если иметь только один кошелек и пользоваться им только на одной системе, тогда это избыточно.зы. Чё-то все мои сообщения здесь не по теме ). Может поудалять их, пока никто этот офтоп не развил?",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "xandry",
      "created_time": "October 05, 2023, 07:45:09 PM",
      "body": "Quote from: igor72 on October 05, 2023, 10:07:19 AMзы. Чё-то все мои сообщения здесь не по теме ). Может поудалять их, пока никто этот офтоп не развил?Меня может закидают говяхами, но сообщения у вас вполне дельные, даже полезные, поэтому такой бы офтоп да все темы ещё...",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "witcher_sense",
      "created_time": "October 06, 2023, 06:18:41 AM",
      "body": "Quote from: igor72 on October 05, 2023, 10:07:19 AMДа, в вашем случае Sparrow - оптимальный вариант. Только я бы все-таки на вашем месте поставил electrs, раз нода уже есть. Хотя, если иметь только один кошелек и пользоваться им только на одной системе, тогда это избыточно.Для одного кошелька electrs конечно будет избыточным, но вот Electrum Personal Server [1] будет оптимальным решением, так как он поддерживает только один кошелек одновременно. Сами разрабы Sparrow говорят о сетапе с Electrum сервером как о самом оптимальном, безопасном и приватном, но скорее для экспертов: https://sparrowwallet.com/docs/best-practices.html#the-expert-stage Но учитывая, что настройка персонального сервера занимает от силы полчаса, то я бы не назвал это таким уж экспертным.Вот рецепт правильного холодного хранилища от разрабов Sparrow [2]:QuoteFor true cold storage on Sparrow, you need to:    Connect to a private Electrum server    Use a good, unique password on your wallet    Employ at least a 2-of-3 multisig setup    Require hardware wallets from different vendors for a quorum    Secure the hardware wallets (and backups) in different locations    Minimize the time your cold storage wallet is open in Sparrow (mixing to cold storage is one good reason to keep it open however)[1] https://github.com/chris-belcher/electrum-personal-server[2] https://sparrowwallet.com/docs/best-practices.html",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "igor72",
      "created_time": "October 06, 2023, 07:08:34 AM",
      "body": "Quote from: witcher_sense on October 06, 2023, 06:18:41 AMДля одного кошелька electrs конечно будет избыточным, но вот Electrum Personal Server [1] будет оптимальным решением, так как он поддерживает только один кошелек одновременно. Сами разрабы Sparrow говорят о сетапе с Electrum сервером как о самом оптимальном, безопасном и приватном, но скорее для экспертов: https://sparrowwallet.com/docs/best-practices.html#the-expert-stage Но учитывая, что настройка персонального сервера занимает от силы полчаса, то я бы не назвал это таким уж экспертным.Полагаю, разрабы Sparrow имеют в виду полноценный Электрум-сервер (Electrs, Fulcrum, ElectrumX), а не Electrum Personal Server. Я пользовался EPS одно время, это такой же костыль, как и BWT, встроенный в Sparrow (с последними версиями кора вроде BWT не используется, но не суть, все равно там что-то похожее). А во-вторых, EPS несколько лет не поддерживается, разраб очень болен, и неизвестно, когда он вернется (надеюсь, вернется) к нормальной жизни.А electrs или fulcrum не очень сложно установить. По крайней мере на линукс - есть подробные инструкции, думать не надо, копипаст сплошной.",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "witcher_sense",
      "created_time": "October 06, 2023, 06:10:07 PM",
      "body": "Quote from: igor72 on October 06, 2023, 07:08:34 AMПолагаю, разрабы Sparrow имеют в виду полноценный Электрум-сервер (Electrs, Fulcrum, ElectrumX), а не Electrum Personal Server. Я пользовался EPS одно время, это такой же костыль, как и BWT, встроенный в Sparrow (с последними версиями кора вроде BWT не используется, но не суть, все равно там что-то похожее). А во-вторых, EPS несколько лет не поддерживается, разраб очень болен, и неизвестно, когда он вернется (надеюсь, вернется) к нормальной жизни.А electrs или fulcrum не очень сложно установить. По крайней мере на линукс - есть подробные инструкции, думать не надо, копипаст сплошной.Тоже надеюсь, что с Крисом Белчером все будет хорошо, потому что без него технологии сохранения приватности в сети Биткоина потеряют очень много: и Electrum Personal Server, и JoinMarket, и CoinSwap все очень выскоготехнологичные и полезные проекты. Насчет костылей же я не знаю, просто для одного кошелька достаточно скачать только относящиеся к нему блоки и транзакции, а не создавать дополнительную базу данных к своей полной ноде. Во-вторых, в описании есть фраза \"full-featured\", но даже если это не так, то все эти фичи не нужны обычным пользователям, пытающимся пользоваться мультисигом для личных целей. Другое дело, что одного софтверного кошелька, подключенного к Электрум серверу может и не хватить для полностью приватного сетапа.",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "satscraper",
      "created_time": "October 06, 2023, 07:17:08 PMLast edit: October 07, 2023, 04:09:28 AM by satscraper",
      "body": "Quote from: witcher_sense on October 06, 2023, 06:10:07 PMQuote from: igor72 on October 06, 2023, 07:08:34 AMПолагаю, разрабы Sparrow имеют в виду полноценный Электрум-сервер (Electrs, Fulcrum, ElectrumX), а не Electrum Personal Server. Я пользовался EPS одно время, это такой же костыль, как и BWT, встроенный в Sparrow (с последними версиями кора вроде BWT не используется, но не суть, все равно там что-то похожее). А во-вторых, EPS несколько лет не поддерживается, разраб очень болен, и неизвестно, когда он вернется (надеюсь, вернется) к нормальной жизни.А electrs или fulcrum не очень сложно установить. По крайней мере на линукс - есть подробные инструкции, думать не надо, копипаст сплошной.Тоже надеюсь, что с Крисом Белчером все будет хорошо, потому что без него технологии сохранения приватности в сети Биткоина потеряют очень много: и Electrum Personal Server, и JoinMarket, и CoinSwap все очень выскоготехнологичные и полезные проекты. Насчет костылей же я не знаю, просто для одного кошелька достаточно скачать только относящиеся к нему блоки и транзакции, а не создавать дополнительную базу данных к своей полной ноде. Во-вторых, в описании есть фраза \"full-featured\", но даже если это не так, то все эти фичи не нужны обычным пользователям, пытающимся пользоваться мультисигом для личных целей. Другое дело, что одного софтверного кошелька, подключенного к Электрум серверу может и не хватить для полностью приватного сетапа.Отвечу для того, чтобы был понятен  смысл замечания igor72 по поводу костылей и на этом заканчиваем. Тема всё же посвящена мультиподписным кошелькам, а не болезни Белчера.И EPS и BWT хранят в явном виде адреса (публичные ключи)  подключаемых к ним кошельков, поэтому, если хакнут ваш компьютер, эти адреса вместе с их содержимое станут известными злоумышленнику, что может мотивировать его к дальнейшим действиям в отношении этих кошельков.Electrs, Fulcrum, ElectrumX используют другой подход и вместо хранения публичных ключей  индексируют их. Таким образом вышеупомянутая угроза исчезаетдаже если в компьютер пролезет хакер.Насчёт Electrs подумаю, может и установлю.",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    }
  ]
}