{
  "id": "topic_5465091",
  "title": "DiskjockeyED",
  "author": "DiskjockeyED",
  "created_time": "August 30, 2023, 01:53:04 PM",
  "content": "Hello everyone, I have an amlogic s19 j pro card which I think is totally brick following the firmware update.I used a TTL cable to analyze the outputs of the board, and here is the log. If anyone has an idea of the fatal error and how to solve it, thank you!Code:AXG:BL1:d1dbf2:a4926f;FEAT:F0DC31BC:2000;POC:F;EMMC:800;NAND:0;READ:0;0.0;0.0;CHK:0;sdio debug board detectedTE: 136410BL2 Built : 10:38:43, Apr 14 2020. axg gf27ed33 - jenkins@walle02-shset vcck to 1100 mvset vddee to 950 mvinit panel powerBoard ID = 0CPU clk: 1200MHzDDR low power enabledDDR3 chl: Rank0 16bit @ 912MHzbist_test rank: 0 18 00 30 2b 12 45 1d 01 39 25 0b 40 00 00 00 00 00 00 00 00 00 00 00 00 721   - PASSRank0: 256MB-2T-13AddrBus test pass!NAND initLoad FIP HDR from NAND, src: 0x0000c000, des: 0x01700000, size: 0x00004000, part: 0Load BL3x from NAND, src: 0x00010000, des: 0x01704000, size: 0x000b7c00, part: 0NOTICE:  BL31: v1.3(release):3edeb02NOTICE:  BL31: Built : 16:43:54, Apr 14 2020NOTICE:  BL31: AXG secure boot!NOTICE:  BL31: BL33 decompress passOPS=0x23[Image: axg_v1.1.3494-9ec8345 2020-04-17 18:16:39 jenkins@walle02-sh]25 0c 23 00 fc 7e 94 ad 97 9e 5a 72 80 07 60 27bl30:axg ver: 9 mode: 0bl30:axg thermal0[0.015884 Inits done]secure task start!high task start!low task start!ERROR:   Error initializing runtime service opteed_fastU-Boot 2015.01 (Nov 19 2021 - 22:40:09), Build: jenkins-Antminer_S19j-Pro_AMLCtrl_release_tls-12DRAM:  256 MiBRelocation Offset is: 0eeaf000mmu cfg end: 0x20000000mmu cfg end: 0x20000000register usb cfg[0][1] = 000000000ff6cfc8aml_i2c_init_port init regs for 0NAND:  get_sys_clk_rate_mtd() 292, clock setting 200!bus cycle0: 6,timing: 7NAND device id: 2c da 90 95 6 0NAND device: Manufacturer ID: 0x2c, Chip ID: 0x2c (Micron A revision NAND 2Gib MT29F2G08-A)get_sys_clk_rate_mtd() 292, clock setting 250!m3_nand_adjust_timing() sys_clk_rate 250, bus_c 6, bus_t 7oob_fill_cnt =32 oob_size =64, bch_bytes =14ecc mode:6 ecc_page_num=2 eep_need_oobsize=16plane_num=1 writesize=0x800 ecc.size=0x200 bch_mode=1oob avail size 6Creating 1 MTD partitions on \"A revision NAND 2Gib MT29F2G08-A\":0x000000000000-0x000000200000 : \"bootloader\"A revision NAND 2Gib MT29F2G08-A initialized okget_sys_clk_rate_mtd() 292, clock setting 200!bus cycle0: 6,timing: 7NAND device id: 2c da 90 95 6 0NAND device: Manufacturer ID: 0x2c, Chip ID: 0x2c (Micron A revision NAND 2Gib MT29F2G08-A)get_sys_clk_rate_mtd() 292, clock setting 250!m3_nand_adjust_timing() sys_clk_rate 250, bus_c 6, bus_t 7oob_fill_cnt =32 oob_size =64, bch_bytes =14ecc mode:6 ecc_page_num=2 eep_need_oobsize=16PLANE change!plane_num=1 writesize=0x800 ecc.size=0x200 bch_mode=1aml_nand_init :oobmul=1,oobfree.length=8,oob_size=64oob avail size 8nbbt=20nenv=24nkey=32ndtb=40nddr=44bbt_start=20 env_start=24 key_start=32 dtb_start=40 ddr_start=44nbbt: info size=0x800 max_scan_blk=24, start_blk=20nbbt : phy_blk_addr=20, ec=0, phy_page_addr=0, timestamp=1nbbt free list:blockN=21, ec=-1, dirty_flag=0blockN=22, ec=-1, dirty_flag=0blockN=23, ec=-1, dirty_flag=0aml_nand_scan_rsv_info 1134: page_num=1aml_nand_scan_rsv_info 1137nbbt valid addr: 280000aml_nand_bbt_check 1258 bbt is valid, reading.aml_nand_read_rsv_info:446,read nbbt info to 280000nenv: info size=0x10000 max_scan_blk=32, start_blk=24nenv : phy_blk_addr=25, ec=0, phy_page_addr=0, timestamp=6nenv free list:blockN=24, ec=-1, dirty_flag=0blockN=26, ec=-1, dirty_flag=0blockN=27, ec=-1, dirty_flag=0blockN=28, ec=-1, dirty_flag=0blockN=29, ec=-1, dirty_flag=0blockN=30, ec=-1, dirty_flag=0blockN=31, ec=-1, dirty_flag=0aml_nand_scan_rsv_info 1134: page_num=32aml_nand_scan_rsv_info 1137nenv valid addr: 330000nkey: info size=0x8000 max_scan_blk=40, start_blk=32nkey : phy_blk_addr=-1, ec=0, phy_page_addr=0, timestamp=0nkey free list:blockN=32, ec=-1, dirty_flag=0blockN=33, ec=-1, dirty_flag=0blockN=34, ec=-1, dirty_flag=0blockN=35, ec=-1, dirty_flag=0blockN=36, ec=-1, dirty_flag=0blockN=37, ec=-1, dirty_flag=0blockN=38, ec=-1, dirty_flag=0blockN=39, ec=-1, dirty_flag=0aml_nand_scan_rsv_info 1134: page_num=16nkey valid addr: fffffffffffe0000aml_nand_rsv_info_check_except_bbt 1228 NO nkey existndtb: info size=0x20000 max_scan_blk=44, start_blk=40ndtb : phy_blk_addr=41, ec=0, phy_page_addr=0, timestamp=2ndtb free list:blockN=40, ec=-1, dirty_flag=0blockN=42, ec=-1, dirty_flag=0blockN=43, ec=-1, dirty_flag=0aml_nand_scan_rsv_info 1134: page_num=64aml_nand_scan_rsv_info 1137ndtb valid addr: 520000nddr: info size=0x800 max_scan_blk=46, start_blk=44nddr : phy_blk_addr=-1, ec=0, phy_page_addr=0, timestamp=0nddr free list:blockN=44, ec=-1, dirty_flag=0blockN=45, ec=-1, dirty_flag=0aml_nand_scan_rsv_info 1134: page_num=1nddr valid addr: fffffffffffe0000aml_nand_rsv_info_check_except_bbt 1228 NO nddr existtpl: off 8388608, size 8388608Creating 6 MTD partitions on \"A revision NAND 2Gib MT29F2G08-A\":0x000000800000-0x000001000000 : \"tpl\"0x000001000000-0x000001200000 : \"misc\"0x000001200000-0x000002200000 : \"recovery\"0x000002200000-0x000004200000 : \"boot\"0x000004200000-0x000004700000 : \"config\"0x000004700000-0x000010000000 : \"nvdata\"A revision NAND 2Gib MT29F2G08-A initialized okMMC:   aml_priv->desc_buf = 0x000000000dead560aml_priv->desc_buf = 0x000000000deaf8a0SDIO Port B: 0, SDIO Port C: 1uboot env amlnf_env_read : ####aml_nand_read_rsv_info:446,read nenv info to 330000In:    serialOut:   serialErr:   serialaml log : internal sys error!reboot_mode=cold_boot[store]To run cmd[amlnf dtb_read 0x1000000 0x40000]sub cmd dtbnew argv[1] dtb_readdo_dtb_ops(): argc 4arg 0: amlnfarg 1: dtb_readarg 2: 0x1000000arg 3: 0x40000do_dtb_ops() readamlnf_dtb_read: ####warnning!!! amlnf_dtb_read dtd length too muchaml_nand_read_rsv_info:446,read ndtb info to 520000do_dtb_ops(): 262144 bytes read : OKaml log : R2048 check pass!      Amlogic multi-DTB tool      GZIP format, decompress...      Multi DTB detected.      Multi DTB tool version: v2.      Support 2 DTBS.debug ddr size: 0x10000000checkhw board adc:0      Found DTB for \"axg_s400_v03sbr\"gpio: pin GPIOAO_7 (gpio 7) value is 1[MSG]usb start(Re)start USB...USB0:   USB3.0 XHCI init startRegister 1000140 NbrPorts 1Starting the controllerUSB XHCI 1.00scanning bus 0 for devices... 1 USB Device(s) found       scanning usb for storage devices... 0 Storage Device(s) found** Bad device usb 0 **fail in cmd [fatsize usb 0 aml_sdc_burn.ini], rcode 1ERR(../drivers/usb/gadget/v2_burning/v2_usb_burn/optimus_usb_burn.c)L41:The [aml_sdc_burn.ini] not exist in udiskNet:   sysnopsys gmac3.7Phy 0 not founddwmac.ff3f0000amlkey_init() enter!amlnf_key_read: ####amlnf_key_read key data len too muchaml_nand_ext_read_rsv_info 520: nkey is invalid! read exit![EFUSE_MSG]keynum is 4MACADDR:02:97:ad:94:7e:fc(from chipid)ramdump_init, add:0, size:0usb_update_flag=Start read misc partition datas![burnup]Rd:Up sz 0x440 to align 0x1000info->attemp_times = 0info->active_slot = 0info->slot_info[0].bootable = 1info->slot_info[0].online = 1info->slot_info[1].bootable = 0info->slot_info[1].online = 0info->attemp_times = 0attemp_times = 0active slot = 0wipe_data=successfulwipe_cache=successfulrecovery_status=upgrade_step=2[aml_i2c_xfer] error ret = -5   i2c master b current slave addr is 0x1fi2c_write: i2c transfer failedError writing the chip: -5[aml_i2c_xfer] error ret = -5   i2c master b current slave addr is 0x1fi2c_write: i2c transfer failedError writing the chip: -5[aml_i2c_xfer] error ret = -5   i2c master b current slave addr is 0x1fi2c_write: i2c transfer failedError writing the chip: -5[aml_i2c_xfer] error ret = -5   i2c master b current slave addr is 0x1fi2c_write: i2c transfer failedError writing the chip: -5s_version: U-Boot 2015.01amlkey_init() enter!amlkey_init() 71: already init![EFUSE_MSG]keynum is 4[KM]Error:f[key_manage_query_size]L515:key[usid] not programed yet[KM]Error:f[key_manage_query_size]L515:key[mac] not programed yet[KM]Error:f[key_manage_query_size]L515:key[deviceid] not programed yets_version: U-Boot 2015.01amlkey_init() enter!amlkey_init() 71: already init![EFUSE_MSG]keynum is 4[KM]Error:f[key_manage_query_size]L515:key[usid] not programed yet[KM]Error:f[key_manage_query_size]L515:key[mac] not programed yet[KM]Error:f[key_manage_query_size]L515:key[deviceid] not programed yetHit Enter or space or Ctrl+C key to stop autoboot -- :  0CONFIG_SYSTEM_AS_ROOT: nullsystem_mode: 0[imgread]szTimeStamp[2021111922403917][imgread]secureKernelImgSz=0xc2c000aml log : R-2048 check pass!aml log : R2048 check pass!aml log : R2048 check pass!aml log : R2048 check pass!avb2: 0save_power_post ...avb2: 0## Booting Android Image at 0x01080000 ...reloc_addr =ded86d0copy doneKernel command line: init=/sbin/init[store]Is good fdt check header, no need decrypt!load dtb from 0x1000000 ......      Amlogic multi-DTB tool      Single DTB detected   Uncompressing Kernel Image ... OK   kernel loaded at 0x01080000, end = 0x0203aa00   Loading Ramdisk to 0d83b000, end 0de9d000 ... OK   Loading Device Tree to 000000000d82c000, end 000000000d83a188 ... OKfdt_fixup_memory_banks, reg:0000000000000000Starting kernel ...uboot time: 4224925 us[    0.000000@0] Booting Linux on physical CPU 0x0[    0.000000@0] Linux version 4.9.113 (jenkins@nomd-nomd-fwc-bj) (gcc version 6.3.1 20170109 (Linaro GCC 6.3-2017.02) ) #1 SMP PREEMPT Fri Nov 19 22:32:14 CST 2021[    0.000000@0] Boot CPU: AArch64 Processor [410fd034][    0.000000@0] earlycon: aml_uart0 at MMIO 0x00000000ff803000 (options '')[    0.000000@0] bootconsole [aml_uart0] enabled[    0.000000@0] efi: Getting EFI parameters from FDT:[    0.000000@0] efi: UEFI not found.[    0.000000@0]        07400000 - 07500000,     1024 KB, ramoops@0x07400000[    0.000000@0] __reserved_mem_alloc_size, start:0x0000000005000000, end:0x0000000005400000, len:4 MiB[    0.000000@0]        05000000 - 05400000,     4096 KB, linux,secmon[    0.000000@0] __reserved_mem_alloc_size, start:0x000000003e000000, end:0x0000000040000000, len:32 MiB[    0.000000@0] failed to allocate memory for node linux,meson-fb, size:32 MB[    0.000000@0] cma: Reserved 8 MiB at 0x000000000f800000[    0.000000@0] psci: probing for conduit method from DT.[    0.000000@0] psci: PSCIv1.0 detected in firmware.[    0.000000@0] psci: Using standard PSCI v0.2 function IDs[    0.000000@0] psci: MIGRATE_INFO_TYPE not supported.[    0.000000@0] psci: SMC Calling Convention v1.1[    0.000000@0] percpu: Embedded 25 pages/cpu @ffffffc00f753000 s64536 r8192 d29672 u102400[    0.000000@0] Detected VIPT I-cache on CPU0[    0.000000@0] CPU features: enabling workaround for ARM erratum 845719[    0.000000@0] Built 1 zonelists in Zone order, mobility grouping on.  Total pages: 64512[    0.000000@0] Kernel command line: init=/init console=ttyS0,115200 no_console_suspend earlycon=aml_uart,0xff803000 ramoops.pstore_en=1 ramoops.record_size=0x8000 ramoops.console_size=0x4000 logo=,loaded,androidboot.selinux=enforcing androidboot.firstboot=1 jtag=disable androidboot.hardware=amlogic androidboot.bootloader=U-Boot 2015.01 androidboot.build.expect.baseband=N/A androidboot.serialno=1234567890 rootfstype=ramfs init=/sbin/init[    0.000000@0] PID hash table entries: 1024 (order: 1, 8192 bytes)[    0.000000@0] Dentry cache hash table entries: 32768 (order: 6, 262144 bytes)[    0.000000@0] Inode-cache hash table entries: 16384 (order: 5, 131072 bytes)[    0.000000@0] Memory: 219920K/262144K available (8764K kernel code, 1194K rwdata, 2428K rodata, 3648K init, 1018K bss, 29936K reserved, 12288K cma-reserved)[    0.000000@0] Virtual kernel memory layout:[    0.000000@0]     modules : 0xffffff8000000000 - 0xffffff8008000000   (   128 MB)[    0.000000@0]     vmalloc : 0xffffff8008000000 - 0xffffffbebfff0000   (   250 GB)[    0.000000@0]       .text : 0xffffff8009080000 - 0xffffff8009910000   (  8768 KB)[    0.000000@0]     .rodata : 0xffffff8009910000 - 0xffffff8009b80000   (  2496 KB)[    0.000000@0]       .init : 0xffffff8009b80000 - 0xffffff8009f10000   (  3648 KB)[    0.000000@0]       .data : 0xffffff8009f10000 - 0xffffff800a03aa00   (  1195 KB)[    0.000000@0]        .bss : 0xffffff800a03aa00 - 0xffffff800a139534   (  1019 KB)[    0.000000@0]     fixed   : 0xffffffbefe7fb000 - 0xffffffbefec00000   (  4116 KB)[    0.000000@0]     PCI I/O : 0xffffffbefee00000 - 0xffffffbeffe00000   (    16 MB)[    0.000000@0]     vmemmap : 0xffffffbf00000000 - 0xffffffc000000000   (     4 GB maximum)[    0.000000@0]               0xffffffbf00000000 - 0xffffffbf00400000   (     4 MB actual)[    0.000000@0]     memory  : 0xffffffc000000000 - 0xffffffc010000000   (   256 MB)[    0.000000@0] can't find symbol:arm_dma_alloc[    0.000000@0] can't find symbol:__alloc_from_contiguous[    0.000000@0] can't find symbol:cma_allocator_alloc[    0.000000@0] SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=4, Nodes=1[    0.000000@0] Preemptible hierarchical RCU implementation.[    0.000000@0]        Build-time adjustment of leaf fanout to 64.[    0.000000@0]        RCU restricting CPUs from NR_CPUS=8 to nr_cpu_ids=4.[    0.000000@0] RCU: Adjusting geometry for rcu_fanout_leaf=64, nr_cpu_ids=4[    0.000000@0][    0.000000@0] **********************************************************[    0.000000@0] **   NOTICE NOTICE NOTICE NOTICE NOTICE NOTICE NOTICE   **[    0.000000@0] **                                                      **[    0.000000@0] ** trace_printk() being used. Allocating extra memory.  **[    0.000000@0] **                                                      **[    0.000000@0] ** This means that this is a DEBUG kernel and it is     **[    0.000000@0] ** unsafe for production use.                           **[    0.000000@0] **                                                      **[    0.000000@0] ** If you see this message and you are not debugging    **[    0.000000@0] ** the kernel, report this immediately to your vendor!  **[    0.000000@0] **                                                      **[    0.000000@0] **   NOTICE NOTICE NOTICE NOTICE NOTICE NOTICE NOTICE   **[    0.000000@0] **********************************************************[    0.000000@0] NR_IRQS:64 nr_irqs:64 0[    0.000000@0] irq_meson_gpio: 100 to 8 gpio interrupt mux initialized[    0.000000@0] axg_aoclkc_init: register ao clk ok![    0.000000@0] axg_amlogic_init_sdemmc: register amlogic sdemmc clk[    0.000000@0] axg_amlogic_init_sdemmc: register amlogic sdemmc clk[    0.000000@0] axg_amlogic_init_media: register meson media clk[    0.000000@0] axg_amlogic_init_misc: register amlogic axg misc clks[    0.000000@0] axg_amlogic_init_misc: register amlogic sdemmc clk[    0.000000@0] axg_clkc_init initialization complete[    0.000000@0] arm_arch_timer: Architected cp15 timer(s) running at 24.00MHz (phys).[    0.000000@0] clocksource: arch_sys_counter: mask: 0xffffffffffffff max_cycles: 0x588fe9dc0, max_idle_ns: 440795202592 ns[    0.000004@0] sched_clock: 56 bits at 24MHz, resolution 41ns, wraps every 4398046511097ns[    0.008252@0] meson_bc_timer: mclk->mux_reg =ffffff800800a190,mclk->reg =ffffff800800c194[    0.016907@0] Console: colour dummy device 80x25[    0.021106@0] Calibrating delay loop (skipped), value calculated using timer frequency.. 48.00 BogoMIPS (lpj=96000)[    0.031586@0] pid_max: default: 32768 minimum: 301[    0.036439@0] thread_stack_cache_init, vmap:ffffffc00edaf600, bitmap:ffffffc00eda3000, cache page:ede0[    0.045773@0] thread_stack_cache_init, allocation vm area:ffffffc00edd94c0, addr:ffffff8020000000, size:20001000[    0.056005@0] cpu 0, vmap_stack:[ffffffc00f75c960-ffffffc00f760950][    0.062304@0] cpu 0, irq_stack: [ffffffc00f753060-ffffffc00f757050][    0.068603@0] cpu 1, vmap_stack:[ffffffc00f775960-ffffffc00f779950][    0.074903@0] cpu 1, irq_stack: [ffffffc00f76c060-ffffffc00f770050][    0.081203@0] cpu 2, vmap_stack:[ffffffc00f78e960-ffffffc00f792950][    0.087503@0] cpu 2, irq_stack: [ffffffc00f785060-ffffffc00f789050][    0.093803@0] cpu 3, vmap_stack:[ffffffc00f7a7960-ffffffc00f7ab950][    0.100103@0] cpu 3, irq_stack: [ffffffc00f79e060-ffffffc00f7a2050][    0.106465@0] Security Framework initialized[    0.110696@0] SELinux:  Initializing.[    0.114428@0] Mount-cache hash table entries: 512 (order: 0, 4096 bytes)[    0.121108@0] Mountpoint-cache hash table entries: 512 (order: 0, 4096 bytes)[    0.128873@0] ftrace: allocating 30089 entries in 118 pages[    0.184510@0] sched-energy: CPU device node has no sched-energy-costs[    0.185326@0] CPU0: update cpu_capacity 1024[    0.189652@0] ASID allocator initialised with 32768 entries[    0.227632@0] secmon: can't fine clear_range[    0.227841@0] EFI services will not be available.[    0.231112@0] Meson chip version = RevC (25:C - 23:0)[    0.264979@1] Detected VIPT I-cache on CPU1[    0.265040@1] CPU1: update cpu_capacity 1024[    0.265042@1] CPU1: Booted secondary processor [410fd034][    0.293040@2] Detected VIPT I-cache on CPU2[    0.293096@2] CPU2: update cpu_capacity 1024[    0.293098@2] CPU2: Booted secondary processor [410fd034][    0.321116@3] Detected VIPT I-cache on CPU3[    0.321169@3] CPU3: update cpu_capacity 1024[    0.321171@3] CPU3: Booted secondary processor [410fd034][    0.321262@0] Brought up 4 CPUs[    0.360482@0] SMP: Total of 4 processors activated.[    0.365390@0] CPU features: detected feature: 32-bit EL0 Support[    0.371427@0] CPU features: detected feature: Kernel page table isolation (KPTI)[    0.381994@0] CPU: All CPU(s) started at EL2[    0.383167@0] alternatives: patching kernel code[    0.388493@1] addr:ffffff802007be10 is in kernel, size fix 4096->10, data:mode=0755[    0.395698@0] devtmpfs: initialized[    0.411161@0] DMI not present or invalid.[    0.411522@0] clocksource: jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 7645041785100000 ns[    0.419546@0] futex hash table entries: 1024 (order: 4, 65536 bytes)[    0.426106@0] pinctrl core: initialized pinctrl subsystem[    0.432534@0] NET: Registered protocol family 16[    0.452056@0] cpuidle: using governor menu[    0.452549@0] vdso: 2 pages (1 code @ ffffff8009917000, 1 data @ ffffff8009f14000)[    0.458169@0] hw-breakpoint: found 6 breakpoint and 2 watchpoint registers.[    0.465578@0] DMA: preallocated 256 KiB pool for atomic allocations[    0.471744@0] clkmsr: clkmsr: driver init[    0.475764@0] aml_watch_point_probe, in, wp:2[    0.480363@0] pstore: using zlib compression[    0.484708@0] console [pstore-1] enabled[    0.488041@0] pstore: Registered ramoops as persistent store backend[    0.494454@0] ramoops: attached 0x100000@0x7400000, ecc: 0/0domain-0 init dvfs: 3[    0.508799@0] aml_iomap: amlogic iomap probe done[    0.515765@0] clkmsr: msr_clk_reg0=ffffff800817e004,msr_clk_reg2=ffffff80081d100c[    0.517701@0] clkmsr ffd18004.meson_clk_msr: failed to get msr ring reg0[    0.618064@0] usbcore: registered new interface driver usbfs[    0.618239@0] usbcore: registered new interface driver hub[    0.623852@0] usbcore: registered new device driver usb[    0.629140@0] pps_core: LinuxPPS API ver. 1 registered[    0.634088@0] pps_core: Software ver. 5.3.6 - Copyright 2005-2007 Rodolfo Giometti <giometti@linux.it>[    0.643474@0] PTP clock support registered[    0.647834@0] dmi: Firmware registration failed.[    0.656640@0] secmon: reserve_mem_size:0x300000[    0.656784@0] secmon secmon: assigned reserved memory node linux,secmon[    0.663792@0] secmon: get page:ffffffbf00140000, 5000[    0.668466@0] secmon: share in base: 0xffffffc0050fe000, share out base: 0xffffffc0050ff000[    0.676827@0] secmon: phy_in_base: 0x50fe000, phy_out_base: 0x50ff000[    0.684735@0] NetLabel: Initializing[    0.686877@0] NetLabel:  domain hash size = 128[    0.691464@0] NetLabel:  protocols = UNLABELED CIPSOv4[    0.696718@0] NetLabel:  unlabeled traffic allowed by default[    0.703305@0] clocksource: Switched to clocksource arch_sys_counter[    0.832758@0] VFS: Disk quotas dquot_6.6.0[    0.832906@0] VFS: Dquot-cache hash table entries: 512 (order 0, 4096 bytes)[    0.859843@1] NET: Registered protocol family 2[    0.860944@1] TCP established hash table entries: 2048 (order: 2, 16384 bytes)[    0.866103@1] TCP bind hash table entries: 2048 (order: 3, 32768 bytes)[    0.872770@1] TCP: Hash tables configured (established 2048 bind 2048)[    0.879355@1] UDP hash table entries: 256 (order: 1, 8192 bytes)[    0.885304@1] UDP-Lite hash table entries: 256 (order: 1, 8192 bytes)[    0.892046@1] NET: Registered protocol family 1[    0.897021@1] RPC: Registered named UNIX socket transport module.[    0.902435@1] RPC: Registered udp transport module.[    0.907326@1] RPC: Registered tcp transport module.[    0.912214@1] RPC: Registered tcp NFSv4.1 backchannel transport module.[    0.921441@1] Unpacking initramfs...[    1.421674@3] Initramfs unpacking failed: junk in compressed archive[    1.428528@3] Freeing initrd memory: 6536K[    1.429403@3] hw perfevents: clusterb_enabled = 0[    1.431780@3] hw perfevents: cpumasks 0xf, 0x0[    1.436248@3] hw perfevents: cluster A irq = 7[    1.440814@3] hw perfevents: enabled with armv8_pmuv3 PMU driver, 7 counters available[    1.450979@3] audit: initializing netlink subsys (disabled)[    1.454377@3] audit: type=2000 audit(1.268:1): initialized[    1.461681@3] workingset: timestamp_bits=62 max_order=16 bucket_order=0[    1.486533@3] squashfs: version 4.0 (2009/01/31) Phillip Lougher[    1.489593@3] NFS: Registering the id_resolver key type[    1.492263@3] Key type id_resolver registered[    1.496569@3] Key type id_legacy registered[    1.501204@3] fuse init (API version 7.26)[    1.513161@3] NET: Registered protocol family 38[    1.513219@3] Key type asymmetric registered[    1.516465@3] Asymmetric key parser 'x509' registered[    1.521965@3] Block layer SCSI generic (bsg) driver version 0.4 loaded (major 248)[    1.529162@3] io scheduler noop registered (default)[    1.534130@3] io scheduler deadline registered[    1.539030@3] io scheduler cfq registered[    1.560049@2] random: fast init done[    1.560149@2] random: crng init done[    1.560622@3] Unable to detect cache hierarchy for CPU 0[    1.603337@3] loop: module loaded[    1.604937@3] zram: Added device: zram0[    1.605359@3] mtdoops: mtd device (mtddev=name/number) must be supplied[    1.612105@3] libphy: Fixed MDIO Bus: probed[    1.616634@3] tun: Universal TUN/TAP device driver, 1.6[    1.621088@3] tun: (C) 1999-2004 Max Krasnyansky <maxk@qualcomm.com>[    1.629293@3]  ee eth reset:Addr = ffffff80081fd008[    1.636806@3] meson6-dwmac ff3f0000.ethernet: no reset control found[    1.638730@3] stmmac - user ID: 0x11, Synopsys ID: 0x37[    1.644011@3]  Ring mode enabled[    1.647210@3]  DMA HW capability register supported[    1.651953@3]  Normal descriptors[    1.655259@3]  RX Checksum Offload Engine supported[    1.660184@3]        COE Type 2[    1.662783@3]  TX Checksum insertion supported[    1.667262@3]  Wake-Up On Lan supported[    1.671215@3]  Enable RX Mitigation via HW Watchdog Timer[    1.679356@3] libphy: stmmac: probed[    1.680114@3] eth%d: No PHY found",
  "score": 0,
  "upvotes": 0,
  "downvotes": 0,
  "url": "https://bitcointalk.org/index.php?topic=5465091",
  "comments": [
    {
      "author": "BitMaxz",
      "created_time": "August 30, 2023, 05:45:01 PM",
      "body": "You might have upgraded it to the wrong firmware?How did you know it was bricked? Have you tried to access through the browser?Have you also tried to factory reset the unit by holding the IP report button for 5 seconds?If you already did that but can't still able to access the miner then you can try SD card flashing You can follow the steps below it requires a Card reader with an OTG plug( if you do not have an OTG card reader you can use the \"Micro USB port to USB female connector\") and then SD card and PC.- First, download the s19j-Pro-a113d-amlctrl-flashCard-20211119.zip- Extract the file to the desktop- Copy all extracted files and paste them into an SD card(Make sure to format it to FAT32)- Now plug the OTG Card reader with SD card into the unit then power on- Leave it for 30 seconds to flash.Once it's done test the unit again and update here.",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "DiskjockeyED",
      "created_time": "August 30, 2023, 06:45:01 PM",
      "body": "Hello,I went straight to the TTL step because all the previous steps (the IpReport button, the flash with microUSB with the little green light that comes on after 30sec) had already been done but the restart doesn't happen. So I decided to use mobaxterm and a TTL cable to check what was happening in the control board, and I've posted the results above. I've also attached below the TTL log during boot with the microUSB for firmware.Code:AXG:BL1:d1dbf2:a4926f;FEAT:F0DC31BC:2000;POC:F;EMMC:800;NAND:0;READ:0;0.0;0.0;CHK:0;sdio debug board detectedTE: 136410BL2 Built : 10:38:43, Apr 14 2020. axg gf27ed33 - jenkins@walle02-shset vcck to 1100 mvset vddee to 950 mvinit panel powerBoard ID = 0CPU clk: 1200MHzDDR low power enabledDDR3 chl: Rank0 16bit @ 912MHzbist_test rank: 0 17 00 2f 2a 11 44 1b 00 37 26 0c 41 00 00 00 00 00 00 00 00 00 00 00 00 721   - PASSRank0: 256MB-2T-13AddrBus test pass!NAND initLoad FIP HDR from NAND, src: 0x0000c000, des: 0x01700000, size: 0x00004000, part: 0Load BL3x from NAND, src: 0x00010000, des: 0x01704000, size: 0x000b7c00, part: 0NOTICE:  BL31: v1.3(release):3edeb02NOTICE:  BL31: Built : 16:43:54, Apr 14 2020NOTICE:  BL31: AXG secure boot!NOTICE:  BL31: BL33 decompress passOPS=0x23[Image: axg_v1.1.3494-9ec8345 2020-04-17 18:16:39 jenkins@walle02-sh]25 0c 23 00 fc 7e 94 ad 97 9e 5a 72 80 07 60 27bl30:axg ver: 9 mode: 0bl30:axg thermal0[0.015880 Inits done]secure task start!high task start!low task start!ERROR:   Error initializing runtime service opteed_fastU-Boot 2015.01 (Nov 19 2021 - 22:40:09), Build: jenkins-Antminer_S19j-Pro_AMLCtrl_release_tls-12DRAM:  256 MiBRelocation Offset is: 0eeaf000mmu cfg end: 0x20000000mmu cfg end: 0x20000000register usb cfg[0][1] = 000000000ff6cfc8aml_i2c_init_port init regs for 0NAND:  get_sys_clk_rate_mtd() 292, clock setting 200!bus cycle0: 6,timing: 7NAND device id: 2c da 90 95 6 0NAND device: Manufacturer ID: 0x2c, Chip ID: 0x2c (Micron A revision NAND 2Gib MT29F2G08-A)get_sys_clk_rate_mtd() 292, clock setting 250!m3_nand_adjust_timing() sys_clk_rate 250, bus_c 6, bus_t 7oob_fill_cnt =32 oob_size =64, bch_bytes =14ecc mode:6 ecc_page_num=2 eep_need_oobsize=16plane_num=1 writesize=0x800 ecc.size=0x200 bch_mode=1oob avail size 6Creating 1 MTD partitions on \"A revision NAND 2Gib MT29F2G08-A\":0x000000000000-0x000000200000 : \"bootloader\"A revision NAND 2Gib MT29F2G08-A initialized okget_sys_clk_rate_mtd() 292, clock setting 200!bus cycle0: 6,timing: 7NAND device id: 2c da 90 95 6 0NAND device: Manufacturer ID: 0x2c, Chip ID: 0x2c (Micron A revision NAND 2Gib MT29F2G08-A)get_sys_clk_rate_mtd() 292, clock setting 250!m3_nand_adjust_timing() sys_clk_rate 250, bus_c 6, bus_t 7oob_fill_cnt =32 oob_size =64, bch_bytes =14ecc mode:6 ecc_page_num=2 eep_need_oobsize=16PLANE change!plane_num=1 writesize=0x800 ecc.size=0x200 bch_mode=1aml_nand_init :oobmul=1,oobfree.length=8,oob_size=64oob avail size 8nbbt=20nenv=24nkey=32ndtb=40nddr=44bbt_start=20 env_start=24 key_start=32 dtb_start=40 ddr_start=44nbbt: info size=0x800 max_scan_blk=24, start_blk=20nbbt : phy_blk_addr=20, ec=0, phy_page_addr=0, timestamp=1nbbt free list:blockN=21, ec=-1, dirty_flag=0blockN=22, ec=-1, dirty_flag=0blockN=23, ec=-1, dirty_flag=0aml_nand_scan_rsv_info 1134: page_num=1aml_nand_scan_rsv_info 1137nbbt valid addr: 280000aml_nand_bbt_check 1258 bbt is valid, reading.aml_nand_read_rsv_info:446,read nbbt info to 280000nenv: info size=0x10000 max_scan_blk=32, start_blk=24nenv : phy_blk_addr=25, ec=0, phy_page_addr=0, timestamp=6nenv free list:blockN=24, ec=-1, dirty_flag=0blockN=26, ec=-1, dirty_flag=0blockN=27, ec=-1, dirty_flag=0blockN=28, ec=-1, dirty_flag=0blockN=29, ec=-1, dirty_flag=0blockN=30, ec=-1, dirty_flag=0blockN=31, ec=-1, dirty_flag=0aml_nand_scan_rsv_info 1134: page_num=32aml_nand_scan_rsv_info 1137nenv valid addr: 330000nkey: info size=0x8000 max_scan_blk=40, start_blk=32nkey : phy_blk_addr=-1, ec=0, phy_page_addr=0, timestamp=0nkey free list:blockN=32, ec=-1, dirty_flag=0blockN=33, ec=-1, dirty_flag=0blockN=34, ec=-1, dirty_flag=0blockN=35, ec=-1, dirty_flag=0blockN=36, ec=-1, dirty_flag=0blockN=37, ec=-1, dirty_flag=0blockN=38, ec=-1, dirty_flag=0blockN=39, ec=-1, dirty_flag=0aml_nand_scan_rsv_info 1134: page_num=16nkey valid addr: fffffffffffe0000aml_nand_rsv_info_check_except_bbt 1228 NO nkey existndtb: info size=0x20000 max_scan_blk=44, start_blk=40ndtb : phy_blk_addr=41, ec=0, phy_page_addr=0, timestamp=2ndtb free list:blockN=40, ec=-1, dirty_flag=0blockN=42, ec=-1, dirty_flag=0blockN=43, ec=-1, dirty_flag=0aml_nand_scan_rsv_info 1134: page_num=64aml_nand_scan_rsv_info 1137ndtb valid addr: 520000nddr: info size=0x800 max_scan_blk=46, start_blk=44nddr : phy_blk_addr=-1, ec=0, phy_page_addr=0, timestamp=0nddr free list:blockN=44, ec=-1, dirty_flag=0blockN=45, ec=-1, dirty_flag=0aml_nand_scan_rsv_info 1134: page_num=1nddr valid addr: fffffffffffe0000aml_nand_rsv_info_check_except_bbt 1228 NO nddr existtpl: off 8388608, size 8388608Creating 6 MTD partitions on \"A revision NAND 2Gib MT29F2G08-A\":0x000000800000-0x000001000000 : \"tpl\"0x000001000000-0x000001200000 : \"misc\"0x000001200000-0x000002200000 : \"recovery\"0x000002200000-0x000004200000 : \"boot\"0x000004200000-0x000004700000 : \"config\"0x000004700000-0x000010000000 : \"nvdata\"A revision NAND 2Gib MT29F2G08-A initialized okMMC:   aml_priv->desc_buf = 0x000000000dead560aml_priv->desc_buf = 0x000000000deaf8a0SDIO Port B: 0, SDIO Port C: 1uboot env amlnf_env_read : ####aml_nand_read_rsv_info:446,read nenv info to 330000In:    serialOut:   serialErr:   serialaml log : internal sys error!reboot_mode=cold_boot[store]To run cmd[amlnf dtb_read 0x1000000 0x40000]sub cmd dtbnew argv[1] dtb_readdo_dtb_ops(): argc 4arg 0: amlnfarg 1: dtb_readarg 2: 0x1000000arg 3: 0x40000do_dtb_ops() readamlnf_dtb_read: ####warnning!!! amlnf_dtb_read dtd length too muchaml_nand_read_rsv_info:446,read ndtb info to 520000do_dtb_ops(): 262144 bytes read : OKaml log : R2048 check pass!      Amlogic multi-DTB tool      GZIP format, decompress...      Multi DTB detected.      Multi DTB tool version: v2.      Support 2 DTBS.debug ddr size: 0x10000000checkhw board adc:0      Found DTB for \"axg_s400_v03sbr\"gpio: pin GPIOAO_7 (gpio 7) value is 1[MSG]usb start(Re)start USB...USB0:   USB3.0 XHCI init startRegister 1000140 NbrPorts 1Starting the controllerUSB XHCI 1.00scanning bus 0 for devices... 2 USB Device(s) found       scanning usb for storage devices... init_part() 282: PART_TYPE_DOS1 Storage Device(s) found[fat]Filesize is 0x25aB[0M][FAT_ERR]L1208,offset(0x0) + wantsz(0x6c40) > filesize(0x25a)ERR(../drivers/usb/gadget/v2_burning/v2_common/optimus_img_decoder.c)L104:want to read 27712, but 0[MSG]cfg[aml_sdc_burn.ini] not valid aml pkg, parse it as ini[MSG]ini sz 0x25aB[fat]Filesize is 0x25aB[0M][fat]0x:leftSz 25a < BPS 1000, gotSz 25a=========sdc_burn_paras=====>>>[common]erase_bootloader = 1erase_flash      = 1reboot           = 0x1key_overwrite    = 0x0erase_ddr_para    = 0x0[burn_ex]package          = aml_upgrade_package_enc.imgmedia            =[burn_parts]burn_num         = 0<<<<=====sdc_burn_paras======[fat]Filesize is 0x15ee8a8B[21M][fat]0x:leftSz c40 < BPS 1000, gotSz 6c40[MSG]image version [0x00000002][MSG]SecureEnabled, use meson1_ENC[fat]Seek 0x192300 from 0x6c40[MSG]itemSizeNotAligned 0xd00[MSG]align 4 mmc read...        [fat]0x:leftSz 720 < BPS 1000, gotSz 7420[MSG]Down(mem) part(dtb) sz(0x7420) fmt(normal)[MSG]Burn Start...[MSG]load dt.img to 0x0000000001000000, sz=0x7420[MSG]Burn complete[MSG]Exit before re-initcommand:        store  exitaml log : R2048 check pass!      Amlogic multi-DTB tool      GZIP format, decompress...      Multi DTB detected.      Multi DTB tool version: v2.      Support 2 DTBS.debug ddr size: 0x10000000checkhw board adc:0      Found DTB for \"axg_s400_v03sbr\"start dts,buffer=0000000001000000,dt_addr=0000000001010800co-phase 0x3, tx-dly 0, clock 400000co-phase 0x3, tx-dly 0, clock 400000co-phase 0x3, tx-dly 0, clock 400000emmc/sd response timeout, cmd8, cmd->cmdarg=0x1aa, status=0x3ff2800emmc/sd response timeout, cmd55, cmd->cmdarg=0x0, status=0x3ff2800emmc/sd response timeout, cmd1, cmd->cmdarg=0x40000000, status=0x3ff2800EMMC init failedget_sys_clk_rate_mtd() 292, clock setting 200!bus cycle0: 6,timing: 7get_sys_clk_rate_mtd() 292, clock setting 250!m3_nand_adjust_timing() sys_clk_rate 250, bus_c 6, bus_t 7XXXXXXX======enter NAND boot======XXXXXXget_sys_clk_rate_mtd() 292, clock setting 200!bus cycle0: 6,timing: 7get_sys_clk_rate_mtd() 292, clock setting 250!m3_nand_adjust_timing() sys_clk_rate 250, bus_c 6, bus_t 7      Amlogic multi-DTB tool      Multi DTB detected.      Multi DTB tool version: v2.      Support 2 DTBS.debug ddr size: 0x10000000checkhw board adc:0      Found DTB for \"axg_s400_v03sbr\"whole chipdo_nand(): off 0, size 268435456Erasing at 0x0 --   0% complete.aml_nand_erase_cmd blk 0x14 is protectedErasing at 0x280000 --   1% complete.aml_nand_erase_cmd blk 0x15 is protectedaml_nand_erase_cmd blk 0x16 is protectedaml_nand_erase_cmd blk 0x17 is protectedErasing at 0xffe0000 -- 100% complete.OK[burn_parts]burn_num         = 3burn_part0       = _aml_dtbburn_part1       = bootburn_part2       = recovery[MSG]=====>To burn part [_aml_dtb][MSG]itemSizeNotAligned 0xd00[MSG]Down(store) part(_aml_dtb) sz(0x7420) fmt(normal)[MSG]totalSlotNum = 0, nextWriteBackSlot 1[MSG]itemSizeNotAligned 0xd00, itemSizePreload 0xd00[fat]0x:leftSz 720 < BPS 1000, gotSz 6720[MSG]Burn Start...[MSG]cmd[store erase partition _aml_dtb]0x000000000000-0x000000200000 : \"bootloader\"0x000000800000-0x000001000000 : \"tpl\"0x000001000000-0x000001200000 : \"misc\"0x000001200000-0x000002200000 : \"recovery\"0x000002200000-0x000004200000 : \"boot\"0x000004200000-0x000004700000 : \"config\"0x000004700000-0x000010000000 : \"nvdata\"--- find_dev_and_part ---id = _aml_dtb[MSG]optimus_download_dtb_image:dataSzReceived=0x7420sub cmd dtbnew argv[1] dtb_erasedo_dtb_ops(): argc 2arg 0: amlnfarg 1: dtb_erasedo_dtb_ops() eraseamlnf_dtb_erase: ####erasing ndtb:erasing valid info block: 520000erasing free info block: 500000erasing free info block: 540000erasing free info block: 560000do_dtb_ops() erase Okay[store]To run cmd[amlnf dtb_write 0x00000000013ff300 0x40000]sub cmd dtbnew argv[1] dtb_writedo_dtb_ops(): argc 4arg 0: amlnfarg 1: dtb_writearg 2: 0x00000000013ff300arg 3: 0x40000do_dtb_ops() writeamlnf_dtb_save: ####warnning!!! amlnf_dtb_save: length too muchaml_nand_save_rsv_info:685, ndtb: valid=1, pages=64release_free_node 112: bitmap=ffffffrelease_free_node 125: bitmap=fbffffaml_nand_save_rsv_info:750,save info to 500000do_dtb_ops(): 262144 bytes write : OK[MSG]Burn complete[store]To run cmd[amlnf dtb_read 0x0000000001400000 0x40000]sub cmd dtbnew argv[1] dtb_readdo_dtb_ops(): argc 4arg 0: amlnfarg 1: dtb_readarg 2: 0x0000000001400000arg 3: 0x40000do_dtb_ops() readamlnf_dtb_read: ####warnning!!! amlnf_dtb_read dtd length too muchaml_nand_read_rsv_info:446,read ndtb info to 500000do_dtb_ops(): 262144 bytes read : OK[MSG]VERIFY OK[MSG]=====>To burn part [boot][fat]Seek 0x3295b0 from 0x199750[MSG]itemSizeNotAligned 0xa50[MSG]flash LOGIC partCap 0x400000000B[MSG]Down(store) part(boot) sz(0xc2c200) fmt(normal)[MSG]totalSlotNum = 0, nextWriteBackSlot 13[MSG]itemSizeNotAligned 0xa50, itemSizePreload 0xa50[fat]0x:leftSz 7b0 < BPS 1000, gotSz 2b7b0[MSG]Burn Start...[MSG]cmd[store erase partition boot]mtdparts_init() 848, already init--- find_dev_and_part ---id = bootfound boot @ 4/7do_nand(): off 35651584, size 33554432Erasing at 0x41e0000 -- 100% complete.OK[burnup]Wr:Up sz 0xc2c200 to align 0x1000[MSG]Burn complete[MSG]Verify Start...[MSG]To verify part boot in fmt normal[burnup]Rd:Up sz 0x2c200 to align 0x1000[MSG]Verify End[MSG]VERIFY OK[MSG]=====>To burn part [recovery][fat]Seek 0x1024678 from 0xf557e0[MSG]itemSizeNotAligned 0x988[MSG]flash LOGIC partCap 0x200000000B[MSG]Down(store) part(recovery) sz(0x5ca200) fmt(normal)[MSG]totalSlotNum = 0, nextWriteBackSlot 6[MSG]itemSizeNotAligned 0x988, itemSizePreload 0x988[fat]0x:leftSz 878 < BPS 1000, gotSz c9878[MSG]Burn Start...[MSG]cmd[store erase partition recovery]mtdparts_init() 848, already init--- find_dev_and_part ---id = recoveryfound recovery @ 3/7do_nand(): off 18874368, size 16777216Erasing at 0x21e0000 -- 100% complete.OK[burnup]Wr:Up sz 0x5ca200 to align 0x1000[MSG]Burn complete[MSG]Verify Start...[MSG]To verify part recovery in fmt normal[burnup]Rd:Up sz 0x1ca200 to align 0x1000[MSG]Verify End[MSG]VERIFY OK[MSG]=====>To burn part [bootloader][MSG]itemSizeNotAligned 0x820[MSG]Down(store) part(bootloader) sz(0xc7e00) fmt(normal)[MSG]totalSlotNum = 0, nextWriteBackSlot 1[MSG]itemSizeNotAligned 0x820, itemSizePreload 0x820[fat]0x:leftSz 5e0 < BPS 1000, gotSz c75e0[MSG]Burn Start...sub cmd romnew argv[1] rom_erasedo_rom_ops(): argc 3arg 0: amlnfarg 1: rom_erasearg 2: 0do_rom_ops() eraseErasing at 0x20000 -- 100% complete.sub cmd bl2new argv[1] bl2_writedo_bl2_ops(): argc 5arg 0: amlnfarg 1: bl2_writearg 2: 0x13ff7e0arg 3: 0arg 4: 0xc000do_bl2_ops() writedo_bl2_ops() 1cfg.d32 0xe25004ddrp_start_page = 0xb00 ddr_start_block = 0x2cbl: version 1, mode 1, start 0x1000page_per_blk = 0x40 bbt_pages = 0x1boot_num = 4 each_boot_pages = 1024sub cmd romnew argv[1] rom_erasedo_rom_ops(): argc 3arg 0: amlnfarg 1: rom_erasearg 2: 1do_rom_ops() eraseErasing at 0x60000 -- 100% complete.sub cmd bl2new argv[1] bl2_writedo_bl2_ops(): argc 5arg 0: amlnfarg 1: bl2_writearg 2: 0x13ff7e0arg 3: 1arg 4: 0xc000do_bl2_ops() writedo_bl2_ops() 1cfg.d32 0xe25004ddrp_start_page = 0xb00 ddr_start_block = 0x2cbl: version 1, mode 1, start 0x1000page_per_blk = 0x40 bbt_pages = 0x1boot_num = 4 each_boot_pages = 1024sub cmd romnew argv[1] rom_erasedo_rom_ops(): argc 3arg 0: amlnfarg 1: rom_erasearg 2: 2do_rom_ops() eraseErasing at 0xa0000 -- 100% complete.sub cmd bl2new argv[1] bl2_writedo_bl2_ops(): argc 5arg 0: amlnfarg 1: bl2_writearg 2: 0x13ff7e0arg 3: 2arg 4: 0xc000do_bl2_ops() writedo_bl2_ops() 1cfg.d32 0xe25004ddrp_start_page = 0xb00 ddr_start_block = 0x2cbl: version 1, mode 1, start 0x1000page_per_blk = 0x40 bbt_pages = 0x1boot_num = 4 each_boot_pages = 1024sub cmd romnew argv[1] rom_erasedo_rom_ops(): argc 3arg 0: amlnfarg 1: rom_erasearg 2: 3do_rom_ops() eraseErasing at 0xe0000 -- 100% complete.sub cmd bl2new argv[1] bl2_writedo_bl2_ops(): argc 5arg 0: amlnfarg 1: bl2_writearg 2: 0x13ff7e0arg 3: 3arg 4: 0xc000do_bl2_ops() writedo_bl2_ops() 1cfg.d32 0xe25004ddrp_start_page = 0xb00 ddr_start_block = 0x2cbl: version 1, mode 1, start 0x1000page_per_blk = 0x40 bbt_pages = 0x1boot_num = 4 each_boot_pages = 1024sub cmd romnew argv[1] rom_erasedo_rom_ops(): argc 3arg 0: amlnfarg 1: rom_erasearg 2: 4do_rom_ops() eraseErasing at 0x120000 -- 100% complete.sub cmd bl2new argv[1] bl2_writedo_bl2_ops(): argc 5arg 0: amlnfarg 1: bl2_writearg 2: 0x13ff7e0arg 3: 4arg 4: 0xc000do_bl2_ops() writedo_bl2_ops() 1cfg.d32 0xe25004ddrp_start_page = 0xb00 ddr_start_block = 0x2cbl: version 1, mode 1, start 0x1000page_per_blk = 0x40 bbt_pages = 0x1boot_num = 4 each_boot_pages = 1024sub cmd romnew argv[1] rom_erasedo_rom_ops(): argc 3arg 0: amlnfarg 1: rom_erasearg 2: 5do_rom_ops() eraseErasing at 0x160000 -- 100% complete.sub cmd bl2new argv[1] bl2_writedo_bl2_ops(): argc 5arg 0: amlnfarg 1: bl2_writearg 2: 0x13ff7e0arg 3: 5arg 4: 0xc000do_bl2_ops() writedo_bl2_ops() 1cfg.d32 0xe25004ddrp_start_page = 0xb00 ddr_start_block = 0x2cbl: version 1, mode 1, start 0x1000page_per_blk = 0x40 bbt_pages = 0x1boot_num = 4 each_boot_pages = 1024sub cmd romnew argv[1] rom_erasedo_rom_ops(): argc 3arg 0: amlnfarg 1: rom_erasearg 2: 6do_rom_ops() eraseErasing at 0x1a0000 -- 100% complete.sub cmd bl2new argv[1] bl2_writedo_bl2_ops(): argc 5arg 0: amlnfarg 1: bl2_writearg 2: 0x13ff7e0arg 3: 6arg 4: 0xc000do_bl2_ops() writedo_bl2_ops() 1cfg.d32 0xe25004ddrp_start_page = 0xb00 ddr_start_block = 0x2cbl: version 1, mode 1, start 0x1000page_per_blk = 0x40 bbt_pages = 0x1boot_num = 4 each_boot_pages = 1024sub cmd romnew argv[1] rom_erasedo_rom_ops(): argc 3arg 0: amlnfarg 1: rom_erasearg 2: 7do_rom_ops() eraseErasing at 0x1e0000 -- 100% complete.sub cmd bl2new argv[1] bl2_writedo_bl2_ops(): argc 5arg 0: amlnfarg 1: bl2_writearg 2: 0x13ff7e0arg 3: 7arg 4: 0xc000do_bl2_ops() writedo_bl2_ops() 1cfg.d32 0xe25004ddrp_start_page = 0xb00 ddr_start_block = 0x2cbl: version 1, mode 1, start 0x1000page_per_blk = 0x40 bbt_pages = 0x1boot_num = 4 each_boot_pages = 1024sub cmd fipnew argv[1] fip_erasedo_fip_ops(): argc 3arg 0: amlnfarg 1: fip_erasearg 2: 0do_fip_ops() erase, base 2Erasing at 0x9e0000 -- 100% complete.sub cmd fipnew argv[1] fip_writedo_fip_ops(): argc 5arg 0: amlnfarg 1: fip_writearg 2: 0x140b7e0arg 3: 0arg 4: 0xbbe00do_fip_ops() writecpy 0sub cmd fipnew argv[1] fip_erasedo_fip_ops(): argc 3arg 0: amlnfarg 1: fip_erasearg 2: 1do_fip_ops() erase, base 2Erasing at 0xbe0000 -- 100% complete.sub cmd fipnew argv[1] fip_writedo_fip_ops(): argc 5arg 0: amlnfarg 1: fip_writearg 2: 0x140b7e0arg 3: 200000arg 4: 0xbbe00do_fip_ops() writecpy 0sub cmd fipnew argv[1] fip_erasedo_fip_ops(): argc 3arg 0: amlnfarg 1: fip_erasearg 2: 2do_fip_ops() erase, base 2Erasing at 0xde0000 -- 100% complete.sub cmd fipnew argv[1] fip_writedo_fip_ops(): argc 5arg 0: amlnfarg 1: fip_writearg 2: 0x140b7e0arg 3: 400000arg 4: 0xbbe00do_fip_ops() writecpy 0sub cmd fipnew argv[1] fip_erasedo_fip_ops(): argc 3arg 0: amlnfarg 1: fip_erasearg 2: 3do_fip_ops() erase, base 2Erasing at 0xfe0000 -- 100% complete.sub cmd fipnew argv[1] fip_writedo_fip_ops(): argc 5arg 0: amlnfarg 1: fip_writearg 2: 0x140b7e0arg 3: 600000arg 4: 0xbbe00do_fip_ops() writecpy 0[MSG]Burn completesub cmd bl2new argv[1] bl2_readdo_bl2_ops(): argc 5arg 0: amlnfarg 1: bl2_readarg 2: 0x000000000dec7e50arg 3: 0arg 4: 0xc000do_bl2_ops() read TODO: check fip infosub cmd bl2new argv[1] bl2_readdo_bl2_ops(): argc 5arg 0: amlnfarg 1: bl2_readarg 2: 0x000000000dec7e50arg 3: 1arg 4: 0xc000do_bl2_ops() read TODO: check fip infosub cmd bl2new argv[1] bl2_readdo_bl2_ops(): argc 5arg 0: amlnfarg 1: bl2_readarg 2: 0x000000000dec7e50arg 3: 2arg 4: 0xc000do_bl2_ops() read TODO: check fip infosub cmd bl2new argv[1] bl2_readdo_bl2_ops(): argc 5arg 0: amlnfarg 1: bl2_readarg 2: 0x000000000dec7e50arg 3: 3arg 4: 0xc000do_bl2_ops() read TODO: check fip infosub cmd fipnew argv[1] fip_readdo_fip_ops(): argc 5arg 0: amlnfarg 1: fip_readarg 2: 0x000000000dec7e50arg 3: 0arg 4: 0xbbe00do_fip_ops() readsub cmd fipnew argv[1] fip_readdo_fip_ops(): argc 5arg 0: amlnfarg 1: fip_readarg 2: 0x000000000dec7e50arg 3: 200000arg 4: 0xbbe00do_fip_ops() read[MSG]VERIFY OK[MSG]Set upgrade_step to 1Saving Environment to aml-storage...uboot env amlnf_env_save : ####aml_nand_save_rsv_info:685, nenv: valid=1, pages=32release_free_node 112: bitmap=ffffffrelease_free_node 125: bitmap=fffff7aml_nand_save_rsv_info:750,save info to 300000[MSG]to close image[MSG]======sdc burn SUCCESS.gpio: pin GPIOA_16 (gpio 56) value is 1",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "BitMaxz",
      "created_time": "August 30, 2023, 07:52:11 PM",
      "body": "Based on the logs during flashing it said burn success.Have you used any commands during flashing through the TTL method?There is another method to flash the unit through TTL but I do not know if the commands will work on the s19j pro.Can you try this method Recovery Method of Serial Port Bitmain also have the same guide but the problem is they didn't include the command lines? That is I think the last step you haven't tried yet(sending command during flashing).",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "DiskjockeyED",
      "created_time": "September 01, 2023, 12:59:29 PM",
      "body": "After careful analysis, the last line corresponds to \"No Phy Found\". The rest of the logs show a healthy boot and NAND. So I started looking at the PHY chip. On the internet you can find this diagram:I conclude that since my leds and eth plug are off and PHY is controlling this, the little PHY chip is dead.So I unsoldered the part and ran the analysis, and the logs are exactly the same, confirming my point.I'll order the part and keep you posted.",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "philipma1957",
      "created_time": "September 01, 2023, 03:23:38 PM",
      "body": "Nice work. Please get back to us and let us know if that chip fixes it.",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "DiskjockeyED",
      "created_time": "September 01, 2023, 05:13:09 PM",
      "body": "All right! I ordered a set of PHY chip, it will arrive in 15 days.See you",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "thierry4wd",
      "created_time": "September 17, 2023, 02:29:47 PM",
      "body": "hello, i have a same problem on my Amlogic board ... after update its totaly bricked...Me too, i look in TTL, i see boot correctly but no ethernet exange...i work for this, and i find the problem, see my website, and try my SD S19J-PRO AML Stock . and paste your comment if work or not",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "DiskjockeyED",
      "created_time": "September 27, 2023, 01:04:51 AM",
      "body": "Hello everyone,So I received the PHY chips, and I can confirm....that it came from there.So in conclusion, if you have the DDR blinks which are faintly lit and the ETH socket blinks off and in your logs via TTL cable you have code similar to mine up to \"eth%d: No PHY found\". there's a good chance that the PHY part is responsible for the control board not booting. Because it's one of the last parts to boot (after the CPU in any case).The following diagram gave me a clue, as it clearly shows that the PHY module controls the ETHERNET, the LEDS and the magnetic.I hope this has helped some people! (but I curse AMLOGIC anyway, it's poorly documented and fragile as hell).",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "BitMaxz",
      "created_time": "September 27, 2023, 06:10:58 PM",
      "body": "Quote from: DiskjockeyED on September 27, 2023, 01:04:51 AMHello everyone,So I received the PHY chips, and I can confirm....that it came from there.So in conclusion, if you have the DDR blinks which are faintly lit and the ETH socket blinks off and in your logs via TTL cable you have code similar to mine up to \"eth%d: No PHY found\". there's a good chance that the PHY part is responsible for the control board not booting. Because it's one of the last parts to boot (after the CPU in any case).The following diagram gave me a clue, as it clearly shows that the PHY module controls the ETHERNET, the LEDS and the magnetic.I hope this has helped some people! (but I curse AMLOGIC anyway, it's poorly documented and fragile as hell).I'm glad that you fixed the issue the only clue that I could see from your previous logs is the ethernet or a chip that is responsible for Ethernet.Why not also post the source where you buy PHY chips? Can you share the code name of the chip you can read it under the chip as I couldn't find it on Zeusbtc if I type PHy.",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "DiskjockeyED",
      "created_time": "October 03, 2023, 11:37:42 PM",
      "body": "Oh yes !Info of PHY chip of an AMLOGIC C76 control board is:SMSC 8710A and link is this: https://fr.aliexpress.com/item/1924473024.html?spm=a2g0o.order_detail.order_detail_item.3.6bba7d56CYPPDm&gatewayAdapt=glo2fraIf anyone in UE want a piece, let me know ! (to avoid 3weeks delivery)",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "renatopinto",
      "created_time": "October 23, 2023, 03:51:19 PM",
      "body": "Hello, how are you?I have a problem with my Control Board, I did a bad update. And the same happened with others that keep restarting.Can you help me with the question I asked on the Forum?. https://bitcointalk.org/index.php?topic=5471345.msg63041239#msg63041239How can I get the TTL cable and test it? Can you show me the cable model and how to connect it?I'm trying to buy a new card, but the time the machine will be offline is bad.Thanks and best regards,",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "DiskjockeyED",
      "created_time": "November 14, 2023, 09:56:28 PM",
      "body": "Hello Renatopinto,Sorry for delay.This is classic TTL cable: https://www.ebay.fr/itm/400708482567Plug TTL Cable on your PC and lets windows install driver. Go in Windows bar and in \"Device Manager\" and in \"PORT & COM\" you will see your cable and his PORT attributed.After that you need to have software to manage result of signal (on terminal), for exemple on Windows you have: MobaXtermLaunch MobaXTerm -> Session -> Select Serial ->Select right COM port -> Speed 15600 bps and RUNPlug your TTL cable on controal board (TX, GND, RX) and turn on the board.and all result will appear on your screen !Best regards",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    }
  ]
}