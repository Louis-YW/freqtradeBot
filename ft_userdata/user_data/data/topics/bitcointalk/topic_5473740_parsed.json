{
  "id": "topic_5473740",
  "title": "profedustream",
  "author": "profedustream",
  "created_time": "November 11, 2023, 05:43:01 PM",
  "content": "Hi guys,I'm trying to link my Sparrow wallet (on Windows 10) to my Electrum Personal Server (which was at first well linked to my Electrum Wallet), though TOR. I'm stucked with a \"failed to subscribe to path: ../0/0\" error.My Bitcoin Core Node (v25.0) is connected via TOR through a SOCKS5 (127.0.0.1 - Port: 9150).In the config.ini file of my Electrum Personal Server, the master public key (zpub) is well entered, the bitcoin-rpc settings are 127.0.0.0 - Port: 8332, and the electrum-server setting are 127.0.0.1 - Port: 50002. Moreover, the tor settings are localhost and 9150.In the bitcoin.conf file of my Bitcoin Core, there's:Code:server=1txindex=1listen=1proxy=127.0.0.1:9150bind=127.0.0.1onlynet=oniondnsseed=0dns=0rpcuser=Arpcpassword=Brpcbind=127.0.0.1rpcallowip=127.0.0.1Finaly, my Sparrow wallet settings are: Private Electrum Server / 127.0.0.1 - Port: 50002 / SSL / Use Proxy - 127.0.0.1 - Port: 9150.When i launch my Bitcoin Core node, it's connected to peers through TOR. -> Everything seems okay.When i launch the config.ini file of my EPS, the master key and the first 3 addresses are well written. It connects to the mempool, then is \"listening for Electrum Wallet on ('127.0.0.1', 50002)\" as it did when I used Electrum is the past. -> Everything seems okay.When i launch the Sparrow wallet and i try to \"Test Connection\" into Files > Preferences > Server, it's written:Code:Connected to ElectrupersonalServer 0.2.4 on protocol version 1.4.Monitoring X deterministic wallet, in total Y addresses.-> Everything seems okay.However, once i click on the bottom right button to really connect Sparrow to my EPS / Node, my EPS control pannel says:Code:WARNING: Address not known to server, hash(address) = ZZZCheck you've imported the master public key(s) correctly. The first addresses of each key are printed out on startup.It's also making me stuck, 'cause the first 3 addresses from the master public key (zpub) are okay.In my Sparrow wallet, it's written:Code:Failed to subscribe to path: ../0/0andCode:Error loading transactions: Failed to subscribe to path: m/0/0Deeper, in my Sparrow log file, it's written:Code:Failed to subscribe to path: ../0/0[...]I/0 error during a request processing[...]Error reading response: Could not connect to server at ssl://127.0.0.1:50002[...]java.io.IOException: Could not connect to server at ssl://127.0.0.1:50002I checked everywhere on the internet and didn't find anything.In this post: github .com/sparrowwallet/sparrow/issues/430, a guy had the same issue than me and said he succeeded by adding the 4th master public key of the Sparrow wallet in the config.file of EPS; which i did. However, i still had the same problem; even if i added the 13 master public keys (deposit, account #1 to #9, premix, postmix, badbank) in the config.file (with the following format):Code:ad1 = zpub1.. ad2 = zpub2.. ad3 = zpub3.. ...In this same post, the EPS dev' said we should check if the 50002 port is opened.I did so: when i run \"netstat -a\", i've got 2 TCP - 127.0.0.1:50002 lines:Code:1 -> PCx:0               LISTENING2 -> PCx:63968        ESTABLISHEDAnd, when i run \"telnet localhost 50002\" in CMD, it's written:Code:Connecting to localhost...Then a new window \"Telnet localhost\" appears in CMD, without anything written inside. After a few seconds, the \"C:\\User\\ >\" appears again in this window.Perhaps did i missconfig something, i'm not a pro. However, i do not have any idea how to well connect Sparrow and my EPS:-> my Node works well-> my EPS is connected to my Node wellThe problem seems to be between my Sparrow wallet and my EPS, i guess.Also, have you already been stuck with Sparrow like this? If so, how did you succeed to make it run?Just so you know: on my windows, all my clearnet input traffic is blocked; and all my clearnet output too. The only traffic outputs are through the 443 port, from TOR.Any help will be appreciate; thanks guys",
  "score": 0,
  "upvotes": 0,
  "downvotes": 0,
  "url": "https://bitcointalk.org/index.php?topic=5473740",
  "comments": [
    {
      "author": "profedustream",
      "created_time": "November 12, 2023, 10:12:51 AMLast edit: November 13, 2023, 12:20:32 PM by profedustream",
      "body": "Hi guys,@craigraw answered me. Once Sparrow is launched, you can export the config.ini lines from File > Export wallet.Then, you add the right lines into your config.ini EPS file.The problem was about the watch-only address in Bitcoin Core: there were 13 addresses to look at, and only 1 in Bitcoin Core.Did make a video tutorial to help people about it. Here is the link: youtube .com/watch?v=YdY-x92K_cgHave a beautiful day !",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    }
  ]
}