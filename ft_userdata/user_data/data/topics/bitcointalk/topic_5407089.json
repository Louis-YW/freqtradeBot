{
  "id": "topic_5407089",
  "title": "GFDhd",
  "author": "GFDhd",
  "created_time": "July 21, 2022, 03:59:05 AMLast edit: July 29, 2022, 09:07:41 AM by GFDhd",
  "content": "Hi guys, I recently got a repair manual for the AvalonMiner 8 series hash board. Share with you here, and if there are any questions, please help me to point out:This tutorial applies to Avalon 821, 841, 851, and other series of miners. The article takes Avalon 821 as an example to explain the precautions and methods of A821 hash board maintenance.First, we need to understand how to connect the test fixture and hash board.The test fixture consists of the PMU board and the MM board (control board). The connection method is as follows:https://www.zeusbtc.com/share/Avalon-8-series-hash-board-repair-manual/test-fixture-connection-method.jpgPMU connection diagram:12V power input port: connect to the power supply of the miner;VCore and GND: Connect the VCore and GND of the hash board to be tested;Signal output: connect to the signal port of the hash board to be tested;Connect with the A821 MM board: Connect the Avalon 821 PMU with the A821 MM board.https://www.zeusbtc.com/share/Avalon-8-series-hash-board-repair-manual/pmu-connection-diagram.jpgNotice:1. The A821 MM board is connected to the A821 PMU. Due to the program settings, the DATA2 interface of A821 is connected to J8 of the PMU, and the DATA2 pin1 of the A821 MM board corresponds to the J8 pin2 of the A821 PMU;2. The signal and VCore power of the A821 PMU are only output from the J6 connector and the VCore-2 side, so only the J6 side connector and the VCore-2 power output can be connected. Therefore, it is necessary to pay attention to the interface direction of the signal output end of the A821 PMU; like regular plugs, the pins are reversed.Pay attention to the order of the 12V power input ports, the top is GND (black), and the bottom is 12V (yellow);MM board (control board) connection diagram:https://www.zeusbtc.com/share/Avalon-8-series-hash-board-repair-manual/mm-board-connection-diagram.jpgConnect with A821 PMU board: A821 MM board is connected with the A821 PMU;Serial port connection: used to view the hash board test information on the computer screen; connect the computer USB port through the USB to TTL serial port module;The serial port connection sequence is:MM side PIN   Serial port line sequencePin 1                       GroundPin 2                       TXDPin 3                       Receiving endFPGA reset button (the test button, which can be connected to an external foot switch or automatic reset switch): After the test program is completed, pressing the test button again will output a reset signal and restart the test.Hash board connection diagram:https://www.zeusbtc.com/share/Avalon-8-series-hash-board-repair-manual/hash-board-connection-diagram.jpgPMU output connection diagram:VCore Power Supply: Powering the hash boardGND: Hash board power GND, the signal is connected to PMU and hash board, PMU transmits data to hash board through the data cable, and then transmits the calculated data back to A821 PMU through the data cable.https://www.zeusbtc.com/share/Avalon-8-series-hash-board-repair-manual/pmu-output-connection-diagram.jpgA821 hash board \"Pin No.\":Pin No.   Signal   Pin No.   SignalPin 1      12V        Pin 2      1.8VPin 3      1.8V       Pin 4      ROPin 5      Ground   Pin 6      COPin 7      Ground   Pin 8      DOPin 9      Ground   Pin 10    DIPin 11    Ground   Pin 12    CIPin 13    Ground   Pin 14    RINotice:1. Do not reverse the connection between VCore and GND;2. The wiring sequence of the PMU board and the hash board; when connecting the signal line, do not insert the wrong or misplaced; otherwise, it will cause damage to the hash board, MM board, and PMU board.3. The red and black power cables and signal cables must be connected well before the test; otherwise, the LDO of the hash board will be burned.4. When testing the hash board, a cooling fan needs to be placed to dissipate heat;5. Do not test the hash board for a long time; otherwise, the temperature will be too high.Avalon 821 hash board structure:When replacing the ASIC chip on the hash board, you need to replace the chip with the same Bin number according to the chip label on the hash board.https://www.zeusbtc.com/share/Avalon-8-series-hash-board-repair-manual/avalon-821-hash-board.jpgHash board test steps:1. Determine the status of the hash board; power on the hash board, and judge whether maintenance is required according to the status of the hash board indicator light:The status indicator is judged as follows:Green, the hash board is normal and does not need repair.Red, the hash board is abnormal and needs to be repaired.https://www.zeusbtc.com/share/Avalon-8-series-hash-board-repair-manual/hash-board-test.jpg2. Determine whether there is a problem with the hash board through the serial portView the LOG information of the hash board running on the computer through the serial port debugging tool, as shown in the figure:Serial port debugging tool settings need to set the serial port number, the baud rate is set to 115200, the data bit is 8 bits, and the stop bit is 1 bit.https://www.zeusbtc.com/share/Avalon-8-series-hash-board-repair-manual/serial-port-debugging-tool.jpg3. Coretest abnormal phenomenon judgment and repairIf the following code appears in the LOG information, asic count = 26, miner 0 asic 21 pass 0, miner 0 asic 24 pass 0, it means that there is a problem with the A21 and A24 chips corresponding to the A821 hash board, and the A21 and A24-bit chips need to be replaced.Note: The BIN number of the chip to be replaced should correspond to the BIN number marked on the back of the hash board.https://www.zeusbtc.com/share/Avalon-8-series-hash-board-repair-manual/log-information.jpg4. Loopback abnormal phenomenon and repairIf asic count=0 appears in the LOG information, it means loopback fails; that is, the link of the hash board is unreachable, indicating that there is a problem with the signal transmission of the A821 hash board, and further testing is required.https://www.zeusbtc.com/share/Avalon-8-series-hash-board-repair-manual/asic-count-0.jpgFirst of all, we need to check whether the appearance of the components is damaged visually, or the welding is poor;LDO soldering problems:https://www.zeusbtc.com/share/Avalon-8-series-hash-board-repair-manual/ldo-soldering-problems.jpgAbnormal resistance:https://www.zeusbtc.com/share/Avalon-8-series-hash-board-repair-manual/abnormal-resistance.jpgIf you can't see it with the naked eye, you need an oscilloscope or a Fluke 15B+ multimeter to locate the hash board problem quickly:1. Use the Fluke 15B+ multimeter impedance gear to measure the impedance between the 12V test point and GND. If the impedance is between 0-100Ω, there is a problem with the LDOs (U1, U2) of A0-A5.Test the impedance of the A0-A5 VTOP test point and the VDD test point to determine whether the impedance is normal. If the impedances do not match, the corresponding LDOs (U1, U2) need to be replaced.https://www.zeusbtc.com/share/Avalon-8-series-hash-board-repair-manual/avalon-hash-board-test-point.jpgTest Point   Impedance (Ω)   Corresponding chipVTOP               ＞ 90Ω                    U1VDD                ＞ 70KΩ                  U2If the impedance of the test point is abnormal, the corresponding chip needs to be replaced.2. Use an oscilloscope to test the CO signal of each group of chips. If there is no waveform, there is a problem with the chipset. First, you need to use a Fluke 15B+ multimeter to determine whether the output voltages of U1 and U2 meet the impedance value and voltage value. If not, you need to replace the corresponding power chip (U1, U2).The CO signal waveform is shown in the following figure:(The oscilloscope is set to AC; the amplitude is set to 1.00V/div, and the frequency is set to 500ns/div)https://www.zeusbtc.com/share/Avalon-8-series-hash-board-repair-manual/co-signal-waveform.jpgA821 hash board parameter reference:    Signal              Resistance (Ω)RO and GND             365KCO and GND             365KDO and GND             365KDI and GND              234KCI and GND              234KRI and GND              234K12V and GND             64K1.8V and GND            37KRO and CO               747KCO and DO               747KDO and DI               700KDI and CI                553KCI and RI                 554KC and GND                1KD and GND                1KR and GND                1KA821 hash board voltage value:Voltage   Voltage valueVDD               1.8VVTOP            0.75VCORE           0.35VNotice:1. Since the chip modules are in series mode, the signal is transmitted from the 25th chip module to the 0th chip module. So we need to check from the 25th chip to the 0th chip. If the front chip doesn't work, the back chip doesn't work either. The test fixture inspection will show that all chips cannot be found.2. Confirm that each module's two adjacent signal waveforms are inconsistent. If they are consistent, you need to confirm the impedance of adjacent signals to determine whether the pins are short-circuited;3. The signal voltage of each chip module is 1.8V.4. If after repairing the hash board, all power supply circuit voltages and chip signals are normal. However, the hash rate cannot reach the original hash rate after the miner is turned on. You can replace the control board or use a USB programmer to brush the program of the EEPROM chip of the control board. The hash board will return to its normal hash rate.",
  "score": 0,
  "upvotes": 0,
  "downvotes": 0,
  "url": "https://bitcointalk.org/index.php?topic=5407089",
  "comments": []
}