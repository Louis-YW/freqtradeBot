{
  "id": "topic_5407494",
  "title": "suvolod",
  "author": "suvolod",
  "created_time": "July 24, 2022, 06:55:33 PMLast edit: July 24, 2022, 07:37:42 PM by suvolod",
  "content": "Добрый день. Столкнулся с очень неприятной ситуацией. Нужно перевести деньги в USDC (ERC20) с кошелька на кошелек. Сумма должна быть достаточно большая для меня, но для пробы начал с 20 USDC. У меня уже был кошелек в SafePal, поэтому пополнил монеты там. Ну и купил немного эфира ETH (ERC20) для оплаты комиссии за перевод. По поводу самого перевода, расскажу чуть подробнее: мне нужно оплатить счет за VPS от конторы FastVPS.ru, которая принимает оплату криптой. Т.е заходишь к ним в личный кабинет, заказываешь счет скажем на 100 евро, и по кнопке \"оплатить\" тебя перекидывает на сервис https://bitpay.com/. В этом сервисе можно зарегаться, завести криптокошелек в нужной валюте и покупать/продавать крипту. Так вот, я зарегался в этом сервисе, и в момент оплаты подвязал к нему кошелек safepal (через WalletConnect). Что происходит дальше: я жму оплатить, у меня в safepal-кошелке выскакивает сообщение с запросом, совершить или отклонить транзацкию... и.... снимаются деньги, но не все, а только за газ. Т.е. исходный баланс в USDC-монетах остается не тронутым, но баланс эфира в кошельке уменьшается. Народ, я пытался три раза провести платеж.. добился только того, что у меня с каждой попыткой снимался эфир. Вот эти транзакции: https://etherscan.io/tx/0x9b930418ad85203eac31269b496be4c7ce686b02bcfa6816984ec5d73124835chttps://etherscan.io/tx/0xcd20c8a4a928ec5afc13bec3f995fbc31e4d9ee8ce5d798f7aa9ea7b66e3cb62https://etherscan.io/tx/0xce756a0e90bb35a4c989eb429d96c34cce451ddbdd644b59899d787f941440cdhttps://etherscan.io/tx/0x564e05a5e7f91fdc6fbf5b3b9d83039202d8792825dd5d9e6c1e367db26cd199Ссылок на самом деле 4, т.к. первая транзакция прошла успешно, у меня в кошельке она идентифицируется как \"комиссия сети\". Но я окончательно запутался. Эта \"комиссия сети\" не повлияла на мой баланс в USDC, деньги получателю не ушли, я так и не понял за что ее сняли. Второе - я не понимаю, почему каждая транзакция снимает деньги с баланса, ведь она НЕ завершилась успехом? Я ожидал, что возможно, чуть позднее эти деньги будут зачислены обратно, но такого не произошло. Ну и третье - как все-таки мне зачислить эти деньги получателю? Я уже нагуглил информацию, что каждый неуспех связано с ценой газа. Собственно, и сам сервис bitpay перед совершением перевода меня об этом предупреждает: \"Required Gas Price To ensure a successful payment, please make sure fee/gas price in your wallet is: 14 GWEI\". Но сперва я надеялся, что корректную цену газа (корректную комиссию) должен сам кошелек рассчитать. После второй неуспешной транзакции стал уже целенаправленно искать, где эту цену газа можно в SafePal поменять, но не нашел такой настройки. Ее просто нет. На всякий случай: safepal у меня просто программный кошелек-приложение на телефоне",
  "score": 0,
  "upvotes": 0,
  "downvotes": 0,
  "url": "https://bitcointalk.org/index.php?topic=5407494",
  "comments": [
    {
      "author": "andy_pelevin",
      "created_time": "July 24, 2022, 07:49:00 PM",
      "body": "В двух случаях, выполнение смарт-контракта было отменено, в двух других - не хватило газа. Очевидно, для трансфера USDC в Вашем случае требуется больше 85К газа. Хотя в списке успешных ТХ есть примеры с лимитом меньше 85к, большинство ТХ превышают такой лимит.Если у Вас есть возможность достать из этого недокошелька приватный ключ от своего адреса, то советую Вам это сделать и экспортировать его в метамаск. Эта операция не требует газа, но избавит Вас от подобных проблем в будущем.Я думаю, Вы не найдёте на этом форуме специалистов по по своему кошельку. Используйте те кошельки, которым доверяют большинство пользователей. Метамаск - как раз такой кошелёк.https://chrome.google.com/webstore/detail/metamask/nkbihfbeogaeaoehlefnkodbefgpgknn",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "suvolod",
      "created_time": "July 24, 2022, 08:26:14 PM",
      "body": "Подскажите, что Вы имеете ввиду под \"выполнение смарт-контракта было отменено\"? Кем? Я точно не отменял эти транзакции.  И как мне тогда рассчитать количество газа? Я думал, важна лишь цена.. Цену я все-же нашел где выставить вручную (хотя по прежнему не понимаю, почему ее не выставляет корректно кошелек), а вот с количеством газа так и не понял, как его правильно рассчитать.",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "andy_pelevin",
      "created_time": "July 24, 2022, 08:57:57 PM",
      "body": "Quote from: suvolod on July 24, 2022, 08:26:14 PMПодскажите, что Вы имеете ввиду под \"выполнение смарт-контракта было отменено\"? Кем? Я точно не отменял эти транзакции. Так написано в самой транзакции. Возможно, в самом смарт-контракте есть некая функция контроля и в случае невозможности выполнения, дальнейшие действия прерываются.Quote from: suvolod on July 24, 2022, 08:26:14 PMИ как мне тогда рассчитать количество газа? Я думал, важна лишь цена.. Цену я все-же нашел где выставить вручную (хотя по прежнему не понимаю, почему ее не выставляет корректно кошелек), а вот с количеством газа так и не понял, как его правильно рассчитать. Лимит газа можно поставить с запасом, например 150 000. Если смарт-контракт без багов, а он, скорее всего, без багов, лишних расходов на газ не будет. Однако нужно иметь ввиду, что заявленное количество газа должно быть на балансе.К сожалению, я не знаю устройства этого кошелька, по идее, параметр \"газ-лимит\" тоже должен быть...P.S. Я вижу, Вам таки удалось победить этот кошелёк... По факту, из заявленного лимита 100к, потрачено 94,582",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "suvolod",
      "created_time": "July 25, 2022, 02:55:50 AMLast edit: February 12, 2023, 11:31:52 AM by Xal0lex",
      "body": "Andry_pewelin, большое спасибо за ответы. Хоть что-то для меня стало проясняться. Если не сложно, помогите еще чуть-чуть. У меня опять была неудачная транзакция, на этот раз я эфиром пытался оплатить счет на 50 евро, при этом оплата основной суммы, и оплата за транзакцию (газ) брались с монеты ETH(ERC20). Опять неуспешно.. вот эта транзакция:https://etherscan.io/tx/0x5097f46b2f9d3490283aa5b1c3ba314c97d379ca48c611b600cfdf049cbe5f491) Я правильно пониманию, что лимит газа был указан верно: 60,000 | 26,884 (44.81%). Но цена в Gwei оказалась недостаточно высокой? Но как же тогда правило, о котором я читал... что если предложенная мной цена газа будет недостаточной \"по рынку\", моя транзакция будет просто исполняться дольше, но все равно исполнится?2) И опять же сняли деньги за неудачную транзакцию. Я правильно читаю блокчейн, что с меня в данном случае сняли Burnt: 0.0001231304573785 Ether ($0.19)💸 Txn Savings: 0.0000715097026215 Ether ($0.11), т.е. 0.19+0.11 = 0.3 доллараХотя бы в двух словах поясните, в чем \"справедливость\" такой операции? В целом по ощущениям прошло буквально несколько секунд после того, как я нажал кнопку \"оплаты\". И увидел только очередное уменьшение баланса без реальной работыУ меня о работе с монетами, требующими оплату газом, складывается крайне негативное отношение... чтобы перевести деньги, нужно вручную задирать значение газ лимит, а цену газа опять же отслеживать вручную (я здесь смотрю: https://etherscan.io/gastracker), и указывать заведомо большее значение, т.к. и на этом ресурсе цена меняется постоянно.. а значит приходится переплачивать комиссию в обмен на бОльшую вероятность успеха сделки. И то не факт что пока я разбираюсь и забиваю подходящую цену, она не вырастет например с 7qwei (как прямо сейчас) до 15 и больше. И только если все звезды сойдутся и я угадаю момент, транзакция будет совершена. Это что за бред вообще?... стабильности просто нет, при этом ты платишь даже за попытку совершить перевод. Одним словом, какой-то крайне дурной и ненадежный способ оплаты, особенно после Teher USDT. Там все банально: указываешь количество долларов для перевода, с тебя списывается дополнительно какое-то количество TRX в качестве комиссии, и все.",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "igor72",
      "created_time": "July 25, 2022, 05:35:33 AM",
      "body": "Платежи не проходят на контракт BitPay (а не контракт USDC, там бы прошли), потому что в этом контракте прописан минимум цены газа. Вам BitPay должен указать, с какой минимальной ценой газа (в Gwei) следует делать платеж, Лимита газа в вашем случае вроде хватает, но он тоже меняется, я бы ставил побольше (как вам выше советовали), лишнего не возьмут.А насчет всей этой системы согласен, меня тоже напрягает, когда заранее не можешь вычислить необходимую комиссию. В троне примерно такая же схема, кажется. А вот с биткоином все просто и понятно ).",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "andy_pelevin",
      "created_time": "July 25, 2022, 07:42:39 AMLast edit: July 25, 2022, 08:37:36 AM by andy_pelevin",
      "body": "Quote from: suvolod on July 25, 2022, 03:44:09 AMУ меня о работе с монетами, требующими оплату газом, складывается крайне негативное отношение... чтобы перевести деньги, нужно вручную задирать значение газ лимит, а цену газа опять же отслеживать вручную (я здесь смотрю: https://etherscan.io/gastracker), и указывать заведомо большее значение, т.к. и на этом ресурсе цена меняется постоянно.. а значит приходится переплачивать комиссию в обмен на бОльшую вероятность успеха сделки. И то не факт что пока я разбираюсь и забиваю подходящую цену, она не вырастет например с 7qwei (как прямо сейчас) до 15 и больше. И только если все звезды сойдутся и я угадаю момент, транзакция будет совершена. Это что за бред вообще?... стабильности просто нет, при этом ты платишь даже за попытку совершить перевод. Одним словом, какой-то крайне дурной и ненадежный способ оплаты, особенно после Teher USDT. Там все банально: указываешь количество долларов для перевода, с тебя списывается дополнительно какое-то количество TRX в качестве комиссии, и все. Да, мир далёк от совершенства,... но более простые решения, далеко не всегда являются лучшими. Лишние телодвижение не нравятся ни кому, но со временем приходит понимание того что все эти действия необходимы для Вашей же безопасности.Стоимость транзакции у эфира сейчас самое больное место, но так было не всегда. Бывали времена, когда цена газа почти всегда была равна 1 qwei и транзакция стоила несколько центов. Если Вам часто требуется выполнять оплату небольших сумм, то будет правильным, поискать более бюджетные решения. Поскольку способы оплаты всегда зависят от принимающей стороны, посмотрите, какие варианты оплаты предлагают Ваши контрагенты. Если среди вариантов есть возможность оплаты в какой либо из сетей L2, например, Polygon, то стоимость транзакции будет на порядок ниже. Quote from: suvolod on July 25, 2022, 02:55:50 AMХотя бы в двух словах поясните, в чем \"справедливость\" такой операции? В целом по ощущениям прошло буквально несколько секунд после того, как я нажал кнопку \"оплаты\". И увидел только очередное уменьшение баланса без реальной работыПлата за использование сети есть всегда, кроме тех случаев, когда транзакция не принята к обработке. Любая запись в блокчейне стоит денег, по количеству потраченных денег можно поторговаться,...",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "suvolod",
      "created_time": "July 25, 2022, 07:46:54 AMLast edit: July 25, 2022, 11:04:11 AM by suvolod",
      "body": "Igor72, подскажите, а где Вы это увидели?... что в контракте BitPay прописан минимум цены газа? Я смотрю детали транзакции, и не вижу поля, которое бы отвечало за минимум цены. И второй вопрос: с GAZ Limit я уже понял: можно указать большее количество, но спишется только ровно столько, сколько потратится. А с ценой газа это правило действует? Если я укажу 20 Gwei, хотя средняя цена по рынку будет 10, какая сумма комиссии мне насчитается - от 20 Gwei или от 10?",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "andy_pelevin",
      "created_time": "July 25, 2022, 07:59:42 AM",
      "body": "Quote from: suvolod on July 25, 2022, 07:46:54 AM... А с ценой газа это правило действует? Если я укажу 20 Gwei, хотя средняя цена по рынку будет 10, какая сумма комиссии мне насчитается - от 20 Gwei или от 10?Нет. Ценой газа Вы, по сути, заявляете приоритет для своей транзакции для майнеров. - Я плачу больше и хочу, что бы моя транзакция была обработана раньше других.",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "suvolod",
      "created_time": "July 25, 2022, 08:12:21 AMLast edit: February 12, 2023, 11:31:18 AM by Xal0lex",
      "body": "Quote from: andy_pelevin on July 25, 2022, 07:42:39 AMСтоимость транзакции у эфира сейчас самое больное место, но так было всегда. Бывали времена, когда цена газа почти всегда была равна 1 qwei и транзакция стоила несколько центов. Если Вам часто требуется выполнять оплату небольших сумм, то будет правильным, поискать более бюджетные решения. Поскольку способы оплаты всегда зависят от принимающей стороны, посмотрите, какие варианты оплаты предлагают Ваши контрагенты. Если среди вариантов есть возможность оплаты в какой либо из сетей L2, например, Polygon, то стоимость транзакции будет на порядок ниже. В том то и проблема, что платежей типа USDT TRC20 в списке доступных нет. Только через монеты на ERC20. Задам еще один \"вопрос новичка\". Ошибочно купил  криптовалютный доллар в виде монеты BUSD (BEP20). Подскажите, какие сложности меня ждут в дальнейшем с его переводом? Мне тоже нужно будет докупать какие-то монеты для его отправки получателю, какие-то неприятные нюансы по комиссии для перевода этой монеты выплывут или нет?",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "andy_pelevin",
      "created_time": "July 25, 2022, 09:40:09 AM",
      "body": "Quote from: suvolod on July 25, 2022, 08:40:00 AMЗадам еще один \"вопрос новичка\". Ошибочно купил  криптовалютный доллар в виде монеты BUSD (BEP20). Подскажите, какие сложности меня ждут в дальнейшем с его переводом? Мне тоже нужно будет докупать какие-то монеты для его отправки получателю, какие-то неприятные нюансы по комиссии для перевода этой монеты выплывут или нет?BUSD (BEP20) - это токен в сети  Binance Smart Chain (BSC). Для транзакций в этой сети обязательно нужно иметь на балансе какое то количество монет BNB. Это небольшие суммы, обычная стоимость транзакции - несколько центов. Каких то особенных нюансов по этому токену нет, кроме того, что он присутствует во многих других сетях, но там уже не в стандарте BEP20.в кошелёк тоже нужно добавить настройки для сети BSCДля просмотра своих балансов в этой сети используйте https://bscscan.com/address/0xf0794d93bd860cca984de613cbe12d727b2965fa#tokentxnsЯ отправил на этот адрес 0.001 BNB, этого должно хватить на несколько транзакций.Удачи.",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "suvolod",
      "created_time": "July 25, 2022, 10:59:09 AM",
      "body": "Quote from: andy_pelevin on July 25, 2022, 09:40:09 AMДля просмотра своих балансов в этой сети используйте https://bscscan.com/address/0xf0794d93bd860cca984de613cbe12d727b2965fa#tokentxnsЯ отправил на этот адрес 0.001 BNB, этого должно хватить на несколько транзакций.Удачи.andy_pelevin, большое спасибо. Поблагодарил в личке, скажу \"спасибо\" еще раз здесь. Для себя я сделал выводы, что самая невыгодная сеть - это на эфире. Т.е. любые монеты, которые используют ERC20, лучше обходить стороной. По по эфиру у меня все же остаются белые пятна в понимании.. хотя я активно гуглю и пытаюсь найти нужную мне информацию. С лимитом эфира мне теперь все понятно: достаточно просто указать завышенное количество, чтобы не ошибиться, а израсходуется ровно столько, сколько нужно. Но у меня по прежнему остался вопрос с оплатой GWEI. Предположим, мой криптокошелек (я так понимаю, это SafePal в моем случае, хоть и подключенный через сервис bitpay) ошибся и указал заниженную цену газа. Почему в таком случае транзакция завершается фейлом? Почему мое выполнение транзакции на перевод просто не откладывается на какое-то время, когда цена газа в целом по сети уменьшится, что сделает выполнение моей заявки возможной? Где логика в таком алгоритме? Если в магазине цену продуктов я должен буду угадывать, да еще предлагать оплатить сразу по завышенной, чтобы абсолютно точно моя курица в магазине досталась именно мне, долго ли я буду ходить в такой магазин? На всякий случай я скажу: я дважды перечитал вот эту статью о расчете цены за газ https://mining-cryptocurrency.ru/ethereum-tranzakcii-komissii-gas/ Но ответа на свой вопрос там не увидел. Даже более того, вижу только опровержение этой непонятной \"логики\". Процитирую: ---------------------------------------А что произойдет, если пользователь не оставит запас безопасности и просто выставит максимальную комиссию в 102 GWEI? Транзакция будет рассматриваться для добавления в первый блок, так как максимальная комиссия все еще превышает базовую в 100 GWEI. Однако уже ко второму блоку она не будет соответствовать требованиям по базовой комиссии, которая поднимется до 112,5 GWEI. Транзакция будет оставаться в состоянии ожидания, пока базовая комиссия не опустится ниже 102 GWEI. Если сеть перегружена, транзакция может быть отклонена.-------------------------------------Т.е. я вижу только одну возможную причину отклонения моей транзакции: сеть перегружена. Но разве в этом случае могла быть сформирована ошибка 'Gas price lower than required'",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "A-Bolt",
      "created_time": "July 25, 2022, 12:05:54 PMLast edit: July 25, 2022, 12:50:10 PM by A-Bolt",
      "body": "Quote from: suvolod on July 25, 2022, 10:59:09 AMТ.е. я вижу только одну возможную причину отклонения моей транзакции: сеть перегружена. Но разве в этом случае могла быть сформирована ошибка 'Gas price lower than required' Нет, не могла. Вам igor72 выше уже ответил, что таков алгоритм работы конкретного контракта, на который вы отправили USDC. Именно этот контракт выдаёт вам ошибку \"Gas price lower than required\" и аварийно завершается. При этом, вашего gas price хватило на то, чтобы транзакция была включена в блок.Если бы вы делали отправку на какой-либо другой контракт, то такого ограничения на gas price не было бы, и ваша транзакция успешно прошла бы.",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "andy_pelevin",
      "created_time": "July 25, 2022, 01:15:20 PM",
      "body": "Quote from: suvolod on July 25, 2022, 10:59:09 AMНа всякий случай я скажу: я дважды перечитал вот эту статью о расчете цены за газ https://mining-cryptocurrency.ru/ethereum-tranzakcii-komissii-gas/ Но ответа на свой вопрос там не увидел. По тому, что адекватного ответа в этой статье нет. Вернее, он там есть, но для его понимания нужны знания, которых в этой статье нет.Для понимания вопроса нужно понять три фактора из которых складывается конечная цена:1. текущая нагрузка в сети. От этого фактора зависит цена газа. Всё просто, выше нагрузка - выше цена. Не надо вникать в дебри различных EIP, это написано не для ВАС.2. Вес транзакции в байтах. Тут тоже всё максимально просто, транзакцию нужно хранить и чем больше в ТХ информации, тем больше газа надо потратить для хранения.3. Выполнение инструкций ТХ. Тут есть несколько вариантов:        - трансфер эфира (стоимость всегда одна и та же, или почти одна и та же)        - трансфер токенов (стоимость всегда одна и та же, но отличается у разных токенов)        - передача какому либо смарт-контракту инструкций для выполнения  (стоимость зависит количества инструкций и от многих других факторов)Для выполнения ТХ Вы покупаете газ(бензин) и от того, как далеко Вы собрались ехать, зависит стоимость поездки.На самом деле, всё не совсем так, а иногда, и совсем не так, но этого пока будет достаточно для общего понимания вопроса.",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "suvolod",
      "created_time": "July 25, 2022, 02:09:26 PMLast edit: February 12, 2023, 11:30:41 AM by Xal0lex",
      "body": "Quote from: A-Bolt on July 25, 2022, 12:05:54 PMQuote from: suvolod on July 25, 2022, 10:59:09 AMТ.е. я вижу только одну возможную причину отклонения моей транзакции: сеть перегружена. Но разве в этом случае могла быть сформирована ошибка 'Gas price lower than required' Нет, не могла. Вам igor72 выше уже ответил, что таков алгоритм работы конкретного контракта, на который вы отправили USDC. Именно этот контракт выдаёт вам ошибку \"Gas price lower than required\" и аварийно завершается. При этом, вашего gas price хватило на то, чтобы транзакция была включена в блок.Если бы вы делали отправку на какой-либо другой контракт, то такого ограничения на gas price не было бы, и ваша транзакция успешно прошла бы.Все верно, Igor72 упомянул, что \"в контракте прописан минимум цены газа\". На что я задал вопрос, где это можно увидеть, в детальном отчете по транзакции Скорее всего нет, т.к. хотелось бы увидеть это перед моментом отправки монет второй стороне. Но тогда где... ? Я задал этот вопрос Igor72, но, к сожалению, он не ответил.... Для меня важно разобраться в этом вопросе, т.к. если Вы заглянете в историю транзакций по моему кошелку, то увидите, что я, пытаясь отправить 20 баксов получателю, только на неудачных транзакциях слил 7 баксов. И я не хочу наступать на те-же грабли в дальнейшем. Я пока рекомендуемый GWEI могу видеть только в момент нажатия кнопки оплатить на сервисе bitpay - в виде маленького всплывающего окошка, которое кстати появляется через раз, либо мониторя цену газа в момент совершения платежа, и устанавливая ее даже выше максимального уровня, чтобы уж точно мою транзакцию \"зацепило\". Ну и второе. Я опять же не понимаю логики: какой смысл устанавливать минимальную цену на газ в контракте получателю монет? Или сервису bitpay.com, если (просто предположу) минимальную цену на газ для контракта задает сам сервис. Ни я, не получатель платежа, ни bitbay - мы же не майнеры, выгоды от цены на газ не имеем. Так зачем тогда вообще это искусственное ограничение, этот минимум цены за газ?P.S. Перечитал сообщения Igor72. Он там четко сказал про \"контракт BitPay\". Так что моя догадка, что это ограничение самого Bitpay видимо правильная... Но где цену GWEI по этому контракту смотреть, я по прежнему не знаю.. Повторюсь, в момент оплаты снизу выскакивает окошок с рекомендуемым размером GWEI, но оно выскакивает не всегда !!! Получается, к bitpay нужно просто относиться как к глючной платформе, которая может \"помочь\" тебе уменьшить баланс кошелька на сумму комиссии за неудачную транзакцию?Вижу, все молчат. Достал своими вопросами )).. ну да ладно, попробую еще раз. Может со скриншотами оплаты будет понятнее. Создал новый счет, пытаюсь его оплатить из личного кабинета. Меня перекидывает на сайт bitpay, где я вижу вот такую формочку: https://i.imgur.com/BgM7XS7.pngНапомню, всплывающее окно снизу появляется не всегда. Далее я нажимаю \"Make Payment\", и мне на кошелек SafePal приходит уведомление:https://i.imgur.com/27ayVqC.pngСобственно, в этом запросе можно лишь зайти в настройки напротив поля \"Комиссия сети\"https://i.imgur.com/M026Wzh.png1) Рекомендуемый вариант - всегда заканчивается фейлом2) Быстрый - тоже заканчивается фейлом3) Помог лишь выбор через кнопку \"Адаптировать\", где я начинаю танцы с бубном: смотрю текущую цену газа в интернете, накидываю выше максимума какое-то количество GWEI, меняю Gaz limit https://i.imgur.com/qhJBTL0.pngНу и жму кнопку подтверждения оплаты, надеясь что не промахнулся.. Одним словом, муторно, ненадежно, как-то все на нервах получается. Замечу, что минимум цены газа так нигде и не прописан. PS. Если ответа по лимиту цены на газ, прописанному в контракте, нет, подскажите хотя-бы логику этого лимита. Зачем сервису bitpay его где-то прописывать, в чем может заключаться профит для этого сервиса?Quote from: andy_pelevin on July 25, 2022, 01:15:20 PMПо тому, что адекватного ответа в этой статье нет. Вернее, он там есть, но для его понимания нужны знания, которых в этой статье нет.Для понимания вопроса нужно понять три фактора из которых складывается конечная цена:1. текущая нагрузка в сети. От этого фактора зависит цена газа. Всё просто, выше нагрузка - выше цена. Не надо вникать в дебри различных EIP, это написано не для ВАС.2. Вес транзакции в байтах. Тут тоже всё максимально просто, транзакцию нужно хранить и чем больше в ТХ информации, тем больше газа надо потратить для хранения.3. Выполнение инструкций ТХ. Тут есть несколько вариантов:        - трансфер эфира (стоимость всегда одна и та же, или почти одна и та же)        - трансфер токенов (стоимость всегда одна и та же, но отличается у разных токенов)        - передача какому либо смарт-контракту инструкций для выполнения  (стоимость зависит количества инструкций и от многих других факторов)Для выполнения ТХ Вы покупаете газ(бензин) и от того, как далеко Вы собрались ехать, зависит стоимость поездки.На самом деле, всё не совсем так, а иногда, и совсем не так, но этого пока будет достаточно для общего понимания вопроса.Спасибо, все Ваши ответы очень помогают стать чуточку ближе к понимаю сути комиссии за эфир ))",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "igor72",
      "created_time": "July 26, 2022, 04:20:07 AMLast edit: July 26, 2022, 05:28:10 AM by igor72",
      "body": "Quote from: suvolod on July 25, 2022, 07:46:54 AMIgor72, подскажите, а где Вы это увидели?... что в контракте BitPay прописан минимум цены газа? Я смотрю детали транзакции, и не вижу поля, которое бы отвечало за минимум цены. В поле \"To:\" транзакции адрес контракта 0x52dE8D3fEbd3a06d3c627f59D56e6892B80DCf12, его автор подтвердил, что это контракт BitPay. В тексте контракта можно увидеть это ограничение.QuoteИ второй вопрос: с GAZ Limit я уже понял: можно указать большее количество, но спишется только ровно столько, сколько потратится. А с ценой газа это правило действует? Если я укажу 20 Gwei, хотя средняя цена по рынку будет 10, какая сумма комиссии мне насчитается - от 20 Gwei или от 10?Насчитается столько, сколько установите (20 в вашем примере), здесь тот принцип не работает. Quote from: suvolod on July 25, 2022, 02:09:26 PMВсе верно, Igor72 упомянул, что \"в контракте прописан минимум цены газа\". На что я задал вопрос, где это можно увидеть, в детальном отчете по транзакции Скорее всего нет, т.к. хотелось бы увидеть это перед моментом отправки монет второй стороне. Но тогда где... ? Я задал этот вопрос Igor72, но, к сожалению, он не ответил.... Прошу прощения, забыл включить уведомление об ответах в этой теме. В контракте вот так прямо цифру в Gwei не видно, там переменная, задаваемая извне (видимо, сам BitPay постоянно меняет ее значение, но это необоснованное предположение).QuoteНу и второе. Я опять же не понимаю логики: какой смысл устанавливать минимальную цену на газ в контракте получателю монет? Или сервису bitpay.com, если (просто предположу) минимальную цену на газ для контракта задает сам сервис. Ни я, не получатель платежа, ни bitbay - мы же не майнеры, выгоды от цены на газ не имеем. Так зачем тогда вообще это искусственное ограничение, этот минимум цены за газ?Очевидно, завышенное значение устанавливается для того, чтобы транзакция быстро подтвердилась. Это же платежная система, там платежи не должны зависать на дни-недели. Тут же как? Если установите достаточный лимит газа, но слишком низкую цену газа, то транзакция уйдет и будет долго висеть, пока проходная цена газа в сети не упадет до нужного уровня. А если наоборот - установите избыточную цену газа, но недостаточный лимит газа, - то заплатите повышенную комиссию, но транзакция будет отвергнута с ошибкой \"Out of gas\". Второе для BitPay безразлично, а первое недопустимо, поэтому они и устанавливают барьер. QuoteДля себя я сделал выводы, что самая невыгодная сеть - это на эфире. Т.е. любые монеты, которые используют ERC20, лучше обходить стороной.Невыгодная - может быть. Но она значительно надежней ей подобных (биткоин не в счет, он не аналог эфиру). Тут уж каждый выбирает, что ему важней: платить относительно высокие комиссии или рисковать потерять всё.QuoteОдним словом, муторно, ненадежно, как-то все на нервах получается.Замечу, что минимум цены газа так нигде и не прописан. Первым делом вам следует сменить софт кошелька на более правильный, в котором возможно точно установить цену/лимит. Я для эфиров пользуюсь на компе MyCrypto. Кому-то больше нравится Metamask или MyEtherWallet...",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "suvolod",
      "created_time": "July 29, 2022, 11:46:35 AM",
      "body": "Igor72, спасибо. В декомпилированном сматр-контракте я конечно размер GWEI не увидел, но буду считать, что где-то там он есть )... и по максимуму избегать переводов, которые требуют в качестве сети ERC20.  Не совсем я правда понимаю, почему bitpay после подключения кошелька просит оплаты монетами, использующими ERC20: https://i.imgur.com/K4CNsUR.png (я проверил, каждая монета работает только через эту сеть). По моему, по отношению к своим клиентам bitpay предлагает максимально дорогую и проблемную сеть (проблемную в том плане, что возможно списание денег с баланса без реального перевода)... ну да ладно, все основные вопросы разобраны ). Еще раз - всем большое спасибо за ответы.",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    }
  ]
}