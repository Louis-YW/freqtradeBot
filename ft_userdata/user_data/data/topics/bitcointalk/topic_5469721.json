{
  "id": "topic_5469721",
  "title": "internetional",
  "author": "internetional",
  "created_time": "October 09, 2023, 08:35:02 AMLast edit: October 09, 2023, 09:11:51 AM by internetional",
  "content": "21 сентября No Bullshit Bitcoin опубликовал короткую заметку, в которой заявил, что цену биткоина можно определять с опорой исключительно на те данные, которые есть в блоках. И для этого не нужны ни биржи, ни иные инстанции, «устанавливающие» текущую цену. Нужен лишь оракул на Python, берущий данные с любой полной ноды. Я тогда посмотрел на этот оракул, но ничего не понял. Подумал, что надо будет потом здесь в разделе «Кодеры» спросить, как он работает.А тут выяснилось, что Bitcoin Magazine опубликовал подробное разъяснение. С ним всё становится понятнее. Я прочитал и хочу выложить здесь перевод основных положений этой статьи. Не существует единой цены на биткоин. Каждую секунду тысячи бирж, брокеров, платежных компаний и других участников рынка по всему миру определяют текущую цену биткоина, и у всех она своя.Централизованные биржи могут создавать объем и статистику цен, которые, на самом деле, не имеют экономического веса и которые не отражены в наборах UTXO, которые размещаются на блокчейне Биткоина. Например, когда Mt.Gox была несостоятельной в 2013-2014 годах, но до официального коллапса, отчетливо наблюдалась разница в цене биткоина на этой платформе по сравнению с другими биржами из-за того, что у Mt.Gox не было столько биткоинов, сколько она утверждала. В результате ей пришлось привлекать новых пользователей для депонирования средств на бирже, чтобы выполнить выводы средств существующих клиентов. Внутри системы Mt.Gox цена могла манипулироваться, но когда пользователи пытались провести арбитраж и вернуть цену к рыночной, Mt.Gox обвалилась.В отличие от этого, блокчейн Биткоина является самым надежным учетным реестром в мире. Он представляет собой всю историю экономической деятельности и является окончательным арбитром истины относительно статуса всех биткоинов. Сделки, которые имеют значение, записываются на блокчейне Bitcoin, а не в закрытых системах. Завершение расчетов - вот что имеет значение.Программное обеспечение Bitcoin использует единицы биткоина (сатоши) для внутреннего учета. Это означает, что, когда кто-то хочет \"отправить $100 в биткоинах\", участники этой транзакции должны договориться о цене биткоина на момент транзакции, чтобы знать, скольким биткоинам это соответствует.Многие люди совершают транзакции с биткоинами на круглые суммы в долларах США. Интересно, что такая практика настолько распространена, что существуют заметные и узнаваемые закономерности в наборе UTXO, которые могут быть использованы для близкого определения цены биткоина в любой момент прошлого или настоящего. Представьте, что вы покупаете биткоины в банкомате (или покупаете подарочную карту онлайн). Вы купите на $100 или на $39.27? Округленные суммы в долларах США от $1 до нескольких тысяч долларов являются очень распространенными размерами UTXO на блокчейне Bitcoin. Фактически, начиная с 2014 года, наблюдается растущий след на цепи блоков от таких транзакций с биткоинами на округленные суммы в долларах США, которые в некоторые дни могут составлять до 25% от созданных в этот день выходов.На каждой высоте блока существует только один набор UTXO биткоина.Здесь изображены все 70 миллионов UTXO, которые составляют все 19 миллионов биткоинов, существующих на момент блока 772,298. Актуальная версия этой визуализации доступна на сайте utxo.live.При приближении картинки можно выделить два характерных паттерна в наборе UTXO: горизонтальные и волнистые линии.Горизонтальные линии (плоские линии) представляют собой UTXO, выраженные в округленных значениях биткоина (например, 0,001, 0,005, 0,01, 1 и т. д.). Они остаются плоскими при любой цене в USD, потому что отправка 1 BTC всегда даст UTXO, равное 1 BTC.Волнистые линии представляют собой группировки UTXO, выраженные в округленных значениях USD ($1, $20, $50, $100, $200, $500, $1,000 и так далее). Они параллельны друг другу, потому что люди отправляют средства в разных количествах USD, и суммы биткоинов, соответствующие этим количествам, изменяются пропорционально друг другу при изменении цены BTC/USD.Волнистые линии двигаются в обратной зависимости от цены. Увеличение цены BTC/USD приводит к наклону волнистых линий вниз, так как для равной стоимости в USD требуется меньше BTC при росте цены и наоборот.Это может позволить, не привязываясь к данным бирж, рассчитывать цену биткоина на любой высоте блока, используя только полный узел, и разрабатывать настоящие децентрализованные финансовые приложения без необходимости полной зависимости от доверенных оракулов цен.Вы можете легко проверить гипотезу о том, что волнистые линии представляют собой перемещение биткоина, выраженного в USD, выбрав дату, когда вы знаете, что цена BTC/USD пересекла округлую стоимость в USD, и проверить, пересеклись ли горизонтальные и волнистые линии. Например, при цене 10 000 пересекутся линии, которые выражают UTXO, равные 0,0001 BTC, и UTXO, равные 1 USD. Люди, отправляющие эту круглую сумму в биткоинах, и люди, отправляющие эту круглую сумму в долларах, фактически отправят одну и ту же сумму, и это будет заметно в графическом отображении набора UTXO. Вот пример для 27 июля 2020 года, когда курс BTC/USD как раз стал равен 10 000.Для того чтобы создать модель, способную точно определять текущую цену биткоина на любой высоте блока после настройки, были использованы точки пересечения горизонтальных и переменных линий при круглых значениях курса.На сайте оракула можно найти цены, которые оракул считает актуальными на каждую конкретную дату. Они совпадают с биржевыми ценами в этот день.Насколько я понимаю, запуск оракула на собственном сервере позволит получать курс, актуальный на момент выхода каждого нового блока.И напоследок ещё пара слов из статьи о практических применениях оракула.QuoteМодель UTXOracle может использоваться в различных сценариях:Деривативы DLC (опционы, фьючерсы, бессрочные свопы): Это позволит пользователям покупать или продавать контракты на открытом рынке, где исходы управляются участниками, использующими цену UTXOracle. Например, Алиса депонирует биткоины на адрес, управляемый DLC. Боб платит Алисе определенную сумму биткоинов, номинированную в USD (согласно цене UTXOracle). При расчете Алиса или Боб могут использовать подпись от оракула, подтверждающую цену, рассчитанную по модели UTXOracle, для определения потока средств при истечении срока действия контракта или его исполнении.Онлайн-рынки по ссудам на цепочке (ончейн): Пользователи могут занимать или предоставлять займы на открытом рынке, где жизненный цикл займа управляется участниками, использующими цену UTXOracle. Например, у меня есть 1 BTC (стоимостью $100 000) и я хочу взять частичный заём на $30 000, не продавая свои биткоины. Я могу, согласовав с маркет-мейкером, депонировать свой 1 BTC и 0,3 BTC маркет-мейкера (стоимостью $30 000) на адрес, управляемый DLC. После финансирования я могу использовать 0,3 BTC по своему усмотрению.Погашение обычного займа: Здесь заемщик может выбрать подписание транзакции, предоставляющей маркет-мейкеру $30 000 стоимости изначального 1 BTC, или депонировать $30 000 стоимости (согласно цене UTXOracle) и вывести изначальный 1 BTC. При ликвидации, если стоимость 1 BTC на адресе, управляемом DLC, упадет примерно до $30 000 (согласно цене UTXOracle), маркет-мейкер может вывести всю сумму 1 BTC, чтобы ликвидировать заём и вернуть свой капитал.StableSats: Модель UTXOracle также предлагает интересное применение в области \"стейблсатов\", стейблкоинов USD, обеспеченных биткоинами, или стейбл-счетов, номинированных в биткоинах. Например, представьте, что вы хотите держать $1 000 в биткоинах в течение месяца. Вы можете заключить соглашение с маркет-мейкером на Lightning Network о стриминге ежедневных изменений стоимости. Вы сможете независимо проверить, что корректные суммы выплачиваются с помощью модели UTXOracle, с которой вы согласились. В конце месяца на вашей стороне платёжного канала будет не та сумма, которая была в начале, но она будет стоить $1 000.P2P-рынки: Продавцу на онлайн-рынке в настоящее время сложно оценивать товары в биткоинах из-за волатильности и того факта, что его расходы, скорее всего, в USD. Однако принятие платежей в USD означает принятие риска возврата платежа, мошенничества и комиссий, связанных с современными платежными системами. Ценообразование товаров в USD, но с возможностью принимать USD-значение в биткоинах с использованием модели UTXOracle, может поощрить больше биткоин-номинированной торговли.",
  "score": 0,
  "upvotes": 0,
  "downvotes": 0,
  "url": "https://bitcointalk.org/index.php?topic=5469721",
  "comments": [
    {
      "author": "jokers10",
      "created_time": "October 09, 2023, 09:52:47 AM",
      "body": "Занятная игрушка. В общем-то всё логично, и в определённом приближении действительно даёт множество возможностей для проектов, которым важен актуальный курс биткойна к доллару, но не принципиально, чтобы он был точен уж прямо до секунды или минуты. Ну, и ретроспективный анализ покажет историю, как минимум, незаинтересованно, поэтому во многом объективно.",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "witcher_sense",
      "created_time": "October 09, 2023, 07:43:39 PM",
      "body": "Парадоксально, но чем меньше об этом оракуле будут говорить и чем меньше пользователей будут запускать полные ноды ради консультаций с оракулом, тем больше этот оракул будет полезен и тем точнее будет его предсказание. Сотни и тысячи трейдеров, принимающие свои торговые решения на этих показателей, будут искажать итоговую цену до уровней обычной погрешности. Трейдерам оракул сказал, что на такую-то дату цена будет больше на 500$. Все ринулись покупать как безмозглые хомяки, а умные дяди с деньгами уже готовы брить это стадо и тоже на основе показаний оракула. В конце концов любой показатель сводится к анализу человеческого поведения, а учитывая предсказуемость последнего, оракул в итоге бесполезен.",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "satscraper",
      "created_time": "October 09, 2023, 08:12:20 PM",
      "body": "Quote from: witcher_sense on October 09, 2023, 07:43:39 PMПарадоксально, но чем меньше об этом оракуле будут говорить и чем меньше пользователей будут запускать полные ноды ради консультаций с оракулом, тем больше этот оракул будет полезен и тем точнее будет его предсказание. Сотни и тысячи трейдеров, принимающие свои торговые решения на этих показателей, будут искажать итоговую цену до уровней обычной погрешности. Трейдерам оракул сказал, что на такую-то дату цена будет больше на 500$. Все ринулись покупать как безмозглые хомяки, а умные дяди с деньгами уже готовы брить это стадо и тоже на основе показаний оракула. В конце концов любой показатель сводится к анализу человеческого поведения, а учитывая предсказуемость последнего, оракул в итоге бесполезен.Не, немножко не так.Мешки с деньгами создатут тысячи транзакций, покупая у самих себя по  манипулятивной цене, а лохи,  руководствуясь предсказаниями установленных ими оракулов, начнут игнорировать реальную ситуацию на рынке.Сей оракул напоминает мешок овёса, повешенный перед мордой кобылы, пытающейся сдвинуть с места телегу.",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "jokers10",
      "created_time": "October 10, 2023, 08:28:42 AM",
      "body": "Подозреваю, что для широких масс пользователей такой инструмент слишком сложен в понимании, поэтому они манипулируются более простыми способами типа любимых блогеров, очередных заявлений инфлюенсеров, выпусками новостей и всем таким прочим, так что переиспользованность подобным оракулам вряд ли пока что грозит. Конечно, если им кто-то начнёт реально активно и интенсивно пользоваться, то будут и манипуляции, но те, кто, вероятнее всего, может, вряд ли станет использовать оракула как единственный инструмент анализа цен. В общем, ИМХО вряд ли нас в ближайшее время ожидает манипулирование оракулом.",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "internetional",
      "created_time": "October 10, 2023, 08:29:21 AM",
      "body": "Quote from: witcher_sense on October 09, 2023, 07:43:39 PMПарадоксально, но чем меньше об этом оракуле будут говорить и чем меньше пользователей будут запускать полные ноды ради консультаций с оракулом, тем больше этот оракул будет полезен и тем точнее будет его предсказание. Сотни и тысячи трейдеров, принимающие свои торговые решения на этих показателей, будут искажать итоговую цену до уровней обычной погрешности. Трейдерам оракул сказал, что на такую-то дату цена будет больше на 500$. Все ринулись покупать как безмозглые хомяки, а умные дяди с деньгами уже готовы брить это стадо и тоже на основе показаний оракула. В конце концов любой показатель сводится к анализу человеческого поведения, а учитывая предсказуемость последнего, оракул в итоге бесполезен.Оракул не предсказывает будущую цену, а сообщает текущую цену. Если предельно упростить механизм его работы, то можно объяснить суть так.Я заглядываю в текущий блок и вижу в нём несколько транзакций на суммы, кратные 3611 сатоши:- три транзакции по 3611 сатоши,- две транзакции по 36110 сатоши,- восемь транзакций по 361100 сатоши,- четыре транзакции по 180550 сатоши.Откуда такие странные совпадения некруглых сумм? Оракул полагает, что отправители этих сумм переводили:- 1 доллар в биткоинах (три человека),- 10 долларов в биткоинах (два человека),- 100 долларов в биткоинах (восемь человек),- 50 долларов в биткоинах (четыре человека).То есть оракул говорит нам следующее: совпадения сумм связаны с тем, что во время между выходом прошлого блока и этого блока люди оценивали 1 доллар в 3611 сатоши (иными словами, 1 биткоин в 27693,16 долларов).  И это всё. Больше никакой информации оракул не даёт. Точнее, информацию о ценах, актуальных на тот или иной момент в прошлом, он даст, а вот о будущем - точно нет.",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "satscraper",
      "created_time": "October 10, 2023, 10:33:59 AM",
      "body": "Quote from: internetional on October 10, 2023, 08:29:21 AMQuote from: witcher_sense on October 09, 2023, 07:43:39 PMПарадоксально, но чем меньше об этом оракуле будут говорить и чем меньше пользователей будут запускать полные ноды ради консультаций с оракулом, тем больше этот оракул будет полезен и тем точнее будет его предсказание. Сотни и тысячи трейдеров, принимающие свои торговые решения на этих показателей, будут искажать итоговую цену до уровней обычной погрешности. Трейдерам оракул сказал, что на такую-то дату цена будет больше на 500$. Все ринулись покупать как безмозглые хомяки, а умные дяди с деньгами уже готовы брить это стадо и тоже на основе показаний оракула. В конце концов любой показатель сводится к анализу человеческого поведения, а учитывая предсказуемость последнего, оракул в итоге бесполезен.Оракул не предсказывает будущую цену, а сообщает текущую цену. Если предельно упростить механизм его работы, то можно объяснить суть так.Я заглядываю в текущий блок и вижу в нём несколько транзакций на суммы, кратные 3611 сатоши:- три транзакции по 3611 сатоши,- две транзакции по 36110 сатоши,- восемь транзакций по 361100 сатоши,- четыре транзакции по 180550 сатоши.Откуда такие странные совпадения некруглых сумм? Оракул полагает, что отправители этих сумм переводили:- 1 доллар в биткоинах (три человека),- 10 долларов в биткоинах (два человека),- 100 долларов в биткоинах (восемь человек),- 50 долларов в биткоинах (четыре человека).То есть оракул говорит нам следующее: совпадения сумм связаны с тем, что во время между выходом прошлого блока и этого блока люди оценивали 1 доллар в 3611 сатоши (иными словами, 1 биткоин в 27693,16 долларов).  И это всё. Больше никакой информации оракул не даёт. Точнее, информацию о ценах, актуальных на тот или иной момент в прошлом, он даст, а вот о будущем - точно нет.Что-то мне кажется, что наличие  круглых сумм в транзакциях связано с приобретающей популярность покупки биткоинов через криптоматы, в которых можно купить только на круглую сумму и никак иначе. Если это так, то тогда возникает вопрос соответствия   тех оценок, которыебудет  предоставлять оракул в текущий момент времени и рыночной цены биткоина, так как большинство банкоматов устанавливает конские комиссии как при покупке, так и при продаже.",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "witcher_sense",
      "created_time": "October 10, 2023, 02:43:25 PM",
      "body": "Quote from: internetional on October 10, 2023, 08:29:21 AMОракул не предсказывает будущую цену, а сообщает текущую цену. Если предельно упростить механизм его работы, то можно объяснить суть так. <...>То есть оракул говорит нам следующее: совпадения сумм связаны с тем, что во время между выходом прошлого блока и этого блока люди оценивали 1 доллар в 3611 сатоши (иными словами, 1 биткоин в 27693,16 долларов).  И это всё. Больше никакой информации оракул не даёт. Точнее, информацию о ценах, актуальных на тот или иной момент в прошлом, он даст, а вот о будущем - точно нет.Тогда название \"оракул\" такой сущности не подходит, потому что в прошлое могут смотреть абсолютно все и ретроспективный анализ тут скорее мешает. Можно назвать эту метрику \"рассчитанная цена\" или \"средневзвешеная цена\", но последствия ее анализа могут приводить к двум результатам: либо трейдеры ее и так знают и она не на что не влияет, либо они принимают ее за какой-то ориентир и ситуация на рынке это отражает. В первом случае это бесполезно, а во втором опасно по изложенным выше причинам. А по поводу круглых сумм, то такая метрика далеко не нова: ее используют в качестве эвристики различные компании по анализу блокчейна и на основе этой эвристики определяют платеж и сдачу. Вот самая точная метрика: пока люди думают в контекте фиатной валюты, а не в сатошах, мы всеобщего адопшена не увидим.",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "A-Bolt",
      "created_time": "October 10, 2023, 04:27:34 PM",
      "body": "Quote from: witcher_sense on October 10, 2023, 02:43:25 PMТогда название \"оракул\" такой сущности не подходитВ предметной области смартконтрактов термин \"оракул\" используется для обозначения посредника между блокчейном и внешним миром. Оракул предоставляет смартконтрактам внешние по отношению к блокчейну данные, в данном случае, цены на Биткойн. Это уже несколько лет, как устоявшийся термин.",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "witcher_sense",
      "created_time": "October 10, 2023, 04:40:54 PM",
      "body": "Quote from: A-Bolt on October 10, 2023, 04:27:34 PMВ предметной области смартконтрактов термин \"оракул\" используется для обозначения посредника между блокчейном и внешним миром. Оракул предоставляет смартконтрактам внешние по отношению к блокчейну данные, в данном случае, цены на Биткойн. Это уже несколько лет, как устоявшийся термин.А я подумал, что здесь ситуация обратная: оракул не передает данные из внешнего мира в блокчейн, а наоборот берет данные из блокчейна и интерпретирует их по своему усмотрению. Это попытка влиять на внешний мир, в частности на рынок криптовалют. А интерпретация в данном случае схожа с тем же протоколом ординалов: мы берем какие-то сатоши, подсчитываем их и придаем им новое значение, к примеру эквивалент цены в долларах. Эту информацию можно использовать для манипуляций рынком, и это произойдет в случае распространения использования подобного \"оракула\".",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "internetional",
      "created_time": "October 11, 2023, 09:51:16 AM",
      "body": "Quote from: satscraper on October 10, 2023, 10:33:59 AMЧто-то мне кажется, что наличие  круглых сумм в транзакциях связано с приобретающей популярность покупки биткоинов через криптоматы, в которых можно купить только на круглую сумму и никак иначе. Если это так, то тогда возникает вопрос соответствия   тех оценок, которыебудет  предоставлять оракул в текущий момент времени и рыночной цены биткоина, так как большинство банкоматов устанавливает конские комиссии как при покупке, так и при продаже.А вот на этом аспекте я бы заострил внимание.Сейчас биржевой курс - около 27000. Допустим, криптоматы продают биткоины по 30000, а покупают по 24000. Значит, люди, покупающие в криптоматах биткоины на 100 долларов, создают транзакции по 333 300 сатоши, а люди, продающие в криптоматах биткоины на 100 долларов, создают транзакции по 416 700 сатоши.Как нужно интерпретировать информацию о транзакциях на такие суммы?Если мы видим в блоке 5 транзакций по 333 300 сатоши и 5 транзакций по 416 700 сатоши, и в то же время в блоке присутствуют в равных количествах другие транзакции на суммы, кратные 3333 и 4167, мы можем предположить, что рыночный курс USD/SAT находится посередине между 3333 и 4167: на уровне 3750 сатоши за доллар, что соответствует 26666,67 долларов за биткоин. Если же мы видим в блоке только 5 транзакций по 333 300 сатоши, а также другие транзакции на суммы, кратные 3333, то это означает, что люди не продают криптоматам свои биткоины по 24000. То есть курс, предлагаемый криптоматом, - 24000 - не является рыночным. Реальных транзакций по такому курсу нет. А вот курс 30000 кажется людям справедливым, потому что в блоке есть транзакции, сигнализирующие о нём. Тем самым следует признать реальным рыночным курсом 30000. Потому что у этого курса есть подтверждения в виде транзакций с реальными биткоинами. В то же время биржевой курс - 27000 - справедлив только для обмена «бумажных» биткоинов на биржах.",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    }
  ]
}