{
  "id": "topic_5432726",
  "title": "Jason Brendon",
  "author": "Jason Brendon",
  "created_time": "January 02, 2023, 01:22:13 PM",
  "content": "I wanted to get out of my bloated system and reinstall the system. So i want to back up my blockchain data so i don't get re-synced. The problem: i don't have a spare external drive that is large enough to store that. Mine is like 450gb or something. but the blockchain data at this point in time is larger than that.So here i am asking if possible to reduce the blockchain data (perhaps to delete couple recent blocks) to make it small so it can fit in my external drive.Is it feasible?How can i make it?Again, thank you all!",
  "score": 0,
  "upvotes": 0,
  "downvotes": 0,
  "url": "https://bitcointalk.org/index.php?topic=5432726",
  "comments": [
    {
      "author": "hd49728",
      "created_time": "January 02, 2023, 01:38:15 PM",
      "body": "Quote from: Jason Brendon on January 02, 2023, 01:22:13 PMI wanted to get out of my bloated system and reinstall the system. So i want to back up my blockchain data so i don't get re-synced.You can run Bitcoin Core prune node, not Bitcoin Core full node.Quote The problem: i don't have a spare external drive that is large enough to store that. Mine is like 450gb or something. but the blockchain data at this point in time is larger than that.With prune node, you can choose how many latest GB of the blockchain you want to store on your disk. 15GB to 30GB is good for a prune node.",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "Artemis3",
      "created_time": "January 02, 2023, 03:01:21 PM",
      "body": "Yeah, unfortunately you need the space to keep the whole blockchain and if you prune it it does the opposite: Only the latest blocks remain. Ideally you should have the space to hold that blockchain like a 1tb hard drive. If your internet is good (measured in tens or hundreds of mbps) you can probably just let it go and sync it again.",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "jackg",
      "created_time": "January 02, 2023, 03:27:57 PM",
      "body": "Could your internal drive store the extra 450GB?If it can then you could make a drive partition for it and reinstall your operating system just on main partitions it already used (make sure you actually concentrate when setting things up though as you might overwrite it) - also I don't know if windows or mac like to reinstall over the whole drive so you might have to look up how to make a host protected area (HPA) that they then can't touch.There's the alternative chance that if you have a few GB free you could make the new partition and slowly move things across and then resize the partition.",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "franky1",
      "created_time": "January 02, 2023, 03:41:16 PM",
      "body": "yes you can just copy over half of the files and then copy over the other half (in two copy/paste rounds)the blk files are sequential so make sure you (eventually) copy all the files or your sync(re-scan) will stop at a certain point if a middle blk file is missing",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "BlackHatCoiner",
      "created_time": "January 02, 2023, 03:51:32 PM",
      "body": "Quote from: Jason Brendon on January 02, 2023, 01:22:13 PMSo here i am asking if possible to reduce the blockchain data (perhaps to delete couple recent blocks) to make it small so it can fit in my external drive.You can copy part of the blockchain, until your external drive is full. The rest of it has to be downloaded again I'm afraid.Quote from: franky1 on January 02, 2023, 03:41:16 PMyes you can just copy over half of the files and then copy over the other half (in two copy/paste rounds)As far as I understand, he's reinstalling an OS? Thus, he needs to move the blockchain data externally, wipe out everything internally, re-install the system, and move the blockchain back into it. If he can't move part of the data outside the internal drive, it needs to be re-downloaded.",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "franky1",
      "created_time": "January 02, 2023, 04:04:23 PM",
      "body": "Quote from: BlackHatCoiner on January 02, 2023, 03:51:32 PMQuote from: Jason Brendon on January 02, 2023, 01:22:13 PMSo here i am asking if possible to reduce the blockchain data (perhaps to delete couple recent blocks) to make it small so it can fit in my external drive.You can copy part of the blockchain, until your external drive is full. The rest of it has to be downloaded again I'm afraid.Quote from: franky1 on January 02, 2023, 03:41:16 PMyes you can just copy over half of the files and then copy over the other half (in two copy/paste rounds)As far as I understand, he's reinstalling an OS? Thus, he needs to move the blockchain data externally, wipe out everything internally, re-install the system, and move the blockchain back into it. If he can't move part of the data outside the internal drive, it needs to be re-downloaded.he has an external drive just not one big enough to do the job in one go..i was reading it as if he was getting out/away from an old bloated system and wanted to install on a new system. without having to redownload the blockchainbut either way. copying as much as he can saves some time",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "Jason Brendon",
      "created_time": "January 03, 2023, 05:12:08 AM",
      "body": "Quote from: BlackHatCoiner on January 02, 2023, 03:51:32 PMQuote from: Jason Brendon on January 02, 2023, 01:22:13 PMSo here i am asking if possible to reduce the blockchain data (perhaps to delete couple recent blocks) to make it small so it can fit in my external drive.You can copy part of the blockchain, until your external drive is full. The rest of it has to be downloaded again I'm afraid.Yes, that's what i was asking. Can i just copy a part of the blockchain data that my external drive can hold maximum? And later i will just need to redownload some of the recent data? Is it dorable?",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "BlackHatCoiner",
      "created_time": "January 03, 2023, 09:53:04 AM",
      "body": "Quote from: Jason Brendon on January 03, 2023, 05:12:08 AMYes, that's what i was asking. Can i just copy a part of the blockchain data that my external drive can hold maximum? And later i will just need to redownload some of the recent data? Is it dorable?I haven't ever tried it, but it's reasonable to copy a few .blk files, and have the rest downloaded, yeah.",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "Sharonchy",
      "created_time": "January 03, 2023, 12:10:42 PM",
      "body": "For me is better to look for a hard drive that can accommodate all the data to avoid mistakes you might regret later. Speaking out of experience",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "Jason Brendon",
      "created_time": "January 03, 2023, 02:00:44 PM",
      "body": "Quote from: franky1 on January 02, 2023, 03:41:16 PMyes you can just copy over half of the files and then copy over the other half (in two copy/paste rounds)the blk files are sequential so make sure you (eventually) copy all the files or your sync(re-scan) will stop at a certain point if a middle blk file is missinghey man, i see besides those blk.dat files, there are also rev.dat files. What are these? Can i remove rev.dat files to save some space?",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "franky1",
      "created_time": "January 03, 2023, 03:45:19 PMLast edit: January 03, 2023, 03:59:05 PM by franky1",
      "body": "google:\"The rev*. dat files (the \"undo files\"), contain all UTXOs spent by the inputs of a block. It was introduced in Bitcoin Core 0.8, and contains a concatenation of records, one for each block. This mimicks the structure of the blk*\"it basically holds a copy of txs that are spent tx....(opposite of a utxo set) incase there was a re-org/rollback the node doesnt have to go around requesting old blocks that got previously spent to be relisted as unspent, to then update the utxo databaseits more of a internal time saver in cases of rollbackand yes many advise its helpful to copy the rev files too(my personal node had full blockchain but i edited it to only have a certain amount of other files like rev files as its not often needed to re-org that far back, but still helpful to have recent rev files to speed up any re-org)i have not personally messed to much with my version. so best to try to copy as much as possible to save as much time as possiblerev files should be ~60gb totalif you are only copying the first 50% of blk's then just copy the reciprocal first 50% of revs so they can correlate to the blk datacopying over just blk may save time of having to re download the initial block download process. but without the other files like rev, your system then need to read each block again the create the utxoset and rev sets. which is a bit extra of \"rescan\" time as they call it",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "Jason Brendon",
      "created_time": "January 03, 2023, 11:39:12 PM",
      "body": "Quote from: franky1 on January 03, 2023, 03:45:19 PMgoogle:\"The rev*. dat files (the \"undo files\"), contain all UTXOs spent by the inputs of a block. It was introduced in Bitcoin Core 0.8, and contains a concatenation of records, one for each block. This mimicks the structure of the blk*\"it basically holds a copy of txs that are spent tx....(opposite of a utxo set) incase there was a re-org/rollback the node doesnt have to go around requesting old blocks that got previously spent to be relisted as unspent, to then update the utxo databaseits more of a internal time saver in cases of rollbackand yes many advise its helpful to copy the rev files too(my personal node had full blockchain but i edited it to only have a certain amount of other files like rev files as its not often needed to re-org that far back, but still helpful to have recent rev files to speed up any re-org)i have not personally messed to much with my version. so best to try to copy as much as possible to save as much time as possiblerev files should be ~60gb totalif you are only copying the first 50% of blk's then just copy the reciprocal first 50% of revs so they can correlate to the blk datacopying over just blk may save time of having to re download the initial block download process. but without the other files like rev, your system then need to read each block again the create the utxoset and rev sets. which is a bit extra of \"rescan\" time as they call itThank you for your detailed explanation. It's fucking helpful.",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    }
  ]
}