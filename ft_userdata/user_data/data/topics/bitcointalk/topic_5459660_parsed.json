{
  "id": "topic_5459660",
  "title": "BGK045",
  "author": "BGK045",
  "created_time": "July 13, 2023, 10:02:21 AM",
  "content": "Hi all - last night, I consolidated some of my many smaller UTXOs into two larger ones in my Sparrow Wallet (which is connected to my Core node). In Sparrow, my balance is what it was before consolidation less fees for the consolidation transactions, but in Core, my balance is less. One thing that might be noteworthy is that the Core balance is an amount that is exactly less than the value of one of the consolidation transactions, and the two UTXOs consolidated in that transaction had the same receive address. Could somebody help me understand what's going on here? Thanks in advance!",
  "score": 0,
  "upvotes": 0,
  "downvotes": 0,
  "url": "https://bitcointalk.org/index.php?topic=5459660",
  "comments": [
    {
      "author": "nc50lc",
      "created_time": "July 13, 2023, 10:53:29 AM",
      "body": "Quote from: BGK045 on July 13, 2023, 10:02:21 AM-snip- One thing that might be noteworthy is that the Core balance is an amount that is exactly less than the value of one of the consolidation transactions, and the two UTXOs consolidated in that transaction had the same receive address. Could somebody help me understand what's going on here? Thanks in advance!Since it's the same address and only one transaction appeared,Bitcoin Core might have missed the other transaction or currently do not have the block where that transaction is included.If it's currently syncing, wait for it to sync.If Bitcoin Core has already caught up already to the tip of the blockchain, perform a rescan using rescanblockchain command in the console. (this could take a while)If your blockchain is pruned, you can only rescan specific blocks that aren't pruned yet, query the 'pruneheight' using getblockchaininfo command.Additionally, if the missing transaction belongs to the pruned block, Bitcoin Core wont be able to scan it without syncing from scratch.",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "BGK045",
      "created_time": "July 13, 2023, 11:53:00 AM",
      "body": "Makes sense. Iâ€™ll try rescanning. Thank you!",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "BGK045",
      "created_time": "July 13, 2023, 11:47:13 PM",
      "body": "I've tried rescanning, but that didn't work. I can also confirm that I don't have pruning turned on in Bitcoin Core. Any thoughts with those things in mind?",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "nc50lc",
      "created_time": "July 14, 2023, 05:09:40 AM",
      "body": "Quote from: BGK045 on July 13, 2023, 11:47:13 PMI've tried rescanning, but that didn't work. I can also confirm that I don't have pruning turned on in Bitcoin Core. Any thoughts with those things in mind?Maybe it's the other way around, you might have spent the output of the other consolidation transaction but it didn't appeared in Sparrow.Other than that and the previously mentioned possibilities, those are the only reasons I can think of.That's unless the two consolidation transactions' receiving addresses aren't actually the same.With that, there could be a couple of more reasons why the other one didn't appeared like it's not yet generated in Bitcoin Core's keypool.",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "o_e_l_e_o",
      "created_time": "July 14, 2023, 01:26:38 PM",
      "body": "Quote from: nc50lc on July 14, 2023, 05:09:40 AMThat's unless the two consolidation transactions' receiving addresses aren't actually the same.I see that you are reading as if OP has performed two consolidation transactions sending coins to the same address, but I'm reading what OP has written differently. Specifically this sentence:Quote from: BGK045 on July 13, 2023, 10:02:21 AMOne thing that might be noteworthy is that the Core balance is an amount that is exactly less than the value of one of the consolidation transactions, and the two UTXOs consolidated in that transaction had the same receive address.I'm reading this to mean that of the two consolidation transactions he made, this one consolidates two inputs from the same address.Maybe I'm mistaken, but if I am reading it correctly then it seems the most likely reason is that the address this transaction has sent coins to simply isn't being scanned by Core. It's either from a different wallet, or as you say, not yet been generated by Core.",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "nc50lc",
      "created_time": "July 14, 2023, 02:00:48 PM",
      "body": "Quote from: o_e_l_e_o on July 14, 2023, 01:26:38 PMQuote from: BGK045 on July 13, 2023, 10:02:21 AMOne thing that might be noteworthy is that the Core balance is an amount that is exactly less than the value of one of the consolidation transactions, and the two UTXOs consolidated in that transaction had the same receive address.I'm reading this to mean that of the two consolidation transactions he made, this one consolidates two inputs from the same address.Quite sounds like it, although some parts of the OP suggest that there are two consolidation transactions.Maybe OP is misusing terms.@BGK045 We need clarification, it's better if you can share the transaction(s) if privacy isn't your main concern.Or just follow this posting template: [READ BEFORE POSTING] Tech Support Help Request Format",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "BGK045",
      "created_time": "July 17, 2023, 09:41:29 AM",
      "body": "o_e_l_e_o, you are exactly right. I could have made that clearer. The two inputs for the consolidation transaction in question were from the same address. That said, I'm not sure I understand your explanation. Why wouldn't Core scan the address that the two transactions were consolidated to?",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "o_e_l_e_o",
      "created_time": "July 17, 2023, 10:15:41 AM",
      "body": "Quote from: BGK045 on July 17, 2023, 09:41:29 AMo_e_l_e_o, you are exactly right. I could have made that clearer. The two inputs for the consolidation transaction in question were from the same address. That said, I'm not sure I understand your explanation. Why wouldn't Core scan the address that the two transactions were consolidated to?If the address isn't in the wallet in Core, then Core won't scan it. The usual explanation for this is that it is beyond the \"gap limit\". Given that it is possible to generate billions upon billions of individual addresses from one set of extended keys, wallets cannot possible scan them all. So they will usually scan the first handful and stop, unless you specifically tell the wallet to scan for more.So it all comes down to exactly how you have set things up. Did the consolidation transaction send coins to an address in the same Sparrow wallet, or to a new wallet? Is the wallet you have open in Core simply the one that Sparrow creates automatically, or have you created it yourself by importing keys or descriptors?",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    }
  ]
}