{
  "id": "topic_5463972",
  "title": "sabotag3x",
  "author": "sabotag3x",
  "created_time": "August 20, 2023, 10:07:11 PMLast edit: August 20, 2023, 10:23:14 PM by sabotag3x",
  "content": "Fui acessar minha carteira que tinha um canal aberto na LN e recebi o aviso abaixo:Ai fui parar nas opções:Alguém sabe o que isso significa? Estou em dúvida se devo ou não desativar tal opção.. pelo que entendi, minhas transações não encontrarão rota para outros canais, é isso?Obs: eu também tinha um arquivo de backup da LN, mas ao importá-lo para a Electrum, nem sequer mostra as conexões da LN. Realmente difícil.. vou tentar mudar o idioma para inglês, talvez fique mais fácil entender o aviso  nunca ouvi falar em 'trampolim'..obs2: estou usando uma versão nova da Electrum pq a antiga nem sequer abria minha carteira.. será que esse 'trampolim' é um recurso novo?edit: na verdade, meu canal está congelado.. e não consigo restaurar pelo backup (um arquivo com um texto gigante que você importa pela aba da LN)..edit2: parece que eu precisava fazer o backup sempre que fizesse uma transação, não apenas em algum momento aleatório.. ou seja, esse arquivo que tenho não serve de nada.. vou ter que fechar o canal \"na força\" e abrir outro.",
  "score": 0,
  "upvotes": 0,
  "downvotes": 0,
  "url": "https://bitcointalk.org/index.php?topic=5463972",
  "comments": [
    {
      "author": "TryNinja",
      "created_time": "August 20, 2023, 11:04:24 PM",
      "body": "Cuidado ao forçar o fechamento de um canal desatualizado. Você pode sofrer uma penalidade e perder suas moedas pois a sua contraparte vai pensar que você está tentando roubar ele ao fazer o settlement com mais saldo do que deveria (caso tenha gasto algo depois do ultimo backup). Um grande problema de UX da LN. Veja se há uma opção para pedir que sua contraparte feche o canal por conta própria (com o estado do canal atualizado). Nunca usei a LN pela Electrum, então não faço ideia.",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "sabotag3x",
      "created_time": "August 21, 2023, 02:35:08 AM",
      "body": "Quote from: TryNinja on August 20, 2023, 11:04:24 PMUm grande problema de UX da LN. Realmente muito triste.. se importo a seed, nem sequer mostra os canais..se faço a importação do backup da LN, diz que a versão do hash está errada.. e não consigo mais abrir a carteira pela versão antiga. então parece não ter saída.Felizmente tinha poucos satoshis ai, ia 'recarregar' meu saldo para voltar a usar a LN.",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "joker_josue",
      "created_time": "August 21, 2023, 06:55:31 PM",
      "body": "Eu não sei nada de LN (está na calha para começar analisar   ), então não sei se posso ser de grande ajuda, mas...Como você já está por tudo e disposto a fechar o canal a força, e como não tem la muitas moedas, o que sugiro é você a desativar essa opção \"trampolim\". Depois vê o qual é o resultado e se consegue retirar as moedas de lá, fechando normalmente o canal. Acho que não custa tentar.@sabotag3x você é um especialista em LN, por isso acredito que vai conseguir resolver!",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "darkv0rt3x",
      "created_time": "August 22, 2023, 10:48:14 AM",
      "body": "Quote from: TryNinja on August 20, 2023, 11:04:24 PMCuidado ao forçar o fechamento de um canal desatualizado. Você pode sofrer uma penalidade e perder suas moedas pois a sua contraparte vai pensar que você está tentando roubar ele ao fazer o settlement com mais saldo do que deveria (caso tenha gasto algo depois do ultimo backup). Um grande problema de UX da LN. Veja se há uma opção para pedir que sua contraparte feche o canal por conta própria (com o estado do canal atualizado). Nunca usei a LN pela Electrum, então não faço ideia.Isso dos backups correrem mal é verdade mas podem-se tentar algumas coisas. Por exmeplo, deixar a Electrum aberta durante algumas horas a ver se ela actualiza o estado actual do canal. E depois, ver se existe alguma opção para criar backup novo.Outra coisa que pode tentar, é instalar uma versão mais antiga da Electrum que lhe permita abrir o backup antigo (não percebi se ele já tentou isto).",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "sabotag3x",
      "created_time": "August 22, 2023, 07:54:38 PM",
      "body": "Quote from: darkv0rt3x on August 22, 2023, 10:48:14 AMIsso dos backups correrem mal é verdade mas podem-se tentar algumas coisas. Por exmeplo, deixar a Electrum aberta durante algumas horas a ver se ela actualiza o estado actual do canal. E depois, ver se existe alguma opção para criar backup novo.Outra coisa que pode tentar, é instalar uma versão mais antiga da Electrum que lhe permita abrir o backup antigo (não percebi se ele já tentou isto).Vou tentar deixar aberta.. não custa tentar. Deixar mais algumas informações aqui para que ninguém passe pelo mesmo no futuro..Tentando o backup antigo, que salvei faz tempo:Estou usando a última versão da Electrum (4.4.5)..Tentando gerar um backup novo e importá-lo (o backup é como o canal já se encontra, desconectado):Na imagem aparecem os 3 canais desconectados.. os dois antigos já estavam fechados, o do topo era pra estar funcionando (estou conectado no node da BitMex, que está funcionando, então não é esse o problema tb)Nem sequer consigo abrir a carteira pela versão 4.4.2:Não lembro qual versão usei para abrir o canal, talvez foi uma mais antiga que essa?Não sei o que aconteceu, imagino que abri a carteira em outra versão da Electrum em algum momento.. e então 'corrompeu' o arquivo Quote from: joker_josue on August 21, 2023, 06:55:31 PMComo você já está por tudo e disposto a fechar o canal a força, e como não tem la muitas moedas, o que sugiro é você a desativar essa opção \"trampolim\". Depois vê o qual é o resultado e se consegue retirar as moedas de lá, fechando normalmente o canal. Acho que não custa tentar.Boa ideia, vou desativar essa opção por motivos de teste  pior que está, não fica. minha maior dúvida é se a opção pode ser ativada novamente depois.. logo vou descobrir.",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "darkv0rt3x",
      "created_time": "August 22, 2023, 08:10:48 PM",
      "body": "Quote from: sabotag3x on August 22, 2023, 07:54:38 PMQuote from: darkv0rt3x on August 22, 2023, 10:48:14 AMIsso dos backups correrem mal é verdade mas podem-se tentar algumas coisas. Por exmeplo, deixar a Electrum aberta durante algumas horas a ver se ela actualiza o estado actual do canal. E depois, ver se existe alguma opção para criar backup novo.Outra coisa que pode tentar, é instalar uma versão mais antiga da Electrum que lhe permita abrir o backup antigo (não percebi se ele já tentou isto).Vou tentar deixar aberta.. não custa tentar. Deixar mais algumas informações aqui para que ninguém passe pelo mesmo no futuro..Tentando o backup antigo, que salvei faz tempo:Estou usando a última versão da Electrum (4.4.5)..Tentando gerar um backup novo e importá-lo (o backup é como o canal já se encontra, desconectado):Na imagem aparecem os 3 canais desconectados.. os dois antigos já estavam fechados, o do topo era pra estar funcionando (estou conectado no node da BitMex, que está funcionando, então não é esse o problema tb)Nem sequer consigo abrir a carteira pela versão 4.4.2:Não lembro qual versão usei para abrir o canal, talvez foi uma mais antiga que essa?Não sei o que aconteceu, imagino que abri a carteira em outra versão da Electrum em algum momento.. e então 'corrompeu' o arquivo Quote from: joker_josue on August 21, 2023, 06:55:31 PMComo você já está por tudo e disposto a fechar o canal a força, e como não tem la muitas moedas, o que sugiro é você a desativar essa opção \"trampolim\". Depois vê o qual é o resultado e se consegue retirar as moedas de lá, fechando normalmente o canal. Acho que não custa tentar.Boa ideia, vou desativar essa opção por motivos de teste  pior que está, não fica. minha maior dúvida é se a opção pode ser ativada novamente depois.. logo vou descobrir.Eu tentava contactar algum suporte e explicar a situação. Eles não terão canal no Telegram? Podias tentar o Telegram. Aliás eu posso ver se existe canal da Electrum no Telegram! Se não tiverem, eu colocava o teu problema no sub-forum internacional da Electrum. Se calhar lá arranjavas mais malta com mais experiência e quem sabe alguém com problema igual ou parecido.Já colocaste os erros que obténs em algum motor de busca para ver que resultados obténs?",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "sabotag3x",
      "created_time": "August 22, 2023, 08:16:51 PM",
      "body": "Quote from: darkv0rt3x on August 22, 2023, 08:10:48 PMJá colocaste os erros que obténs em algum motor de busca para ver que resultados obténs?Pesquisei usando termos mais genéricos.. os melhores resultados me levaram ao Reddit da Electrum, tinham perguntas parecidas, mas não iguais a minha.. vou criar uma postagem lá, talvez algum usuário saiba responder o que aconteceu.edit: só por digitar \"electrum reddit\" já aparece uma que visitei outro dia",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "joker_josue",
      "created_time": "August 22, 2023, 10:30:49 PM",
      "body": "Eu costumo dizer que há sempre alguém que já teve o mesmo problema. Então é só pesquisar que vai encontrar.Experimenta aqui no fórum também, deve haver malta bem intendida no assunto que poderá ajudar.",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "TryNinja",
      "created_time": "August 23, 2023, 08:15:13 AM",
      "body": "Quote from: sabotag3x on August 22, 2023, 08:16:51 PMQuote from: darkv0rt3x on August 22, 2023, 08:10:48 PMJá colocaste os erros que obténs em algum motor de busca para ver que resultados obténs?Pesquisei usando termos mais genéricos.. os melhores resultados me levaram ao Reddit da Electrum, tinham perguntas parecidas, mas não iguais a minha.. vou criar uma postagem lá, talvez algum usuário saiba responder o que aconteceu.edit: só por digitar \"electrum reddit\" já aparece uma que visitei outro dia Crie um tópico no board internacional, também. Tem gente aqui que sabe muito mais de lightning do que eu. Há uma chance de ter uma solução que não conhecemos.Board da Electrum: https://bitcointalk.org/index.php?board=98.0",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "darkv0rt3x",
      "created_time": "August 23, 2023, 09:21:07 AM",
      "body": "Quote from: TryNinja on August 23, 2023, 08:15:13 AMQuote from: sabotag3x on August 22, 2023, 08:16:51 PMQuote from: darkv0rt3x on August 22, 2023, 08:10:48 PMJá colocaste os erros que obténs em algum motor de busca para ver que resultados obténs?Pesquisei usando termos mais genéricos.. os melhores resultados me levaram ao Reddit da Electrum, tinham perguntas parecidas, mas não iguais a minha.. vou criar uma postagem lá, talvez algum usuário saiba responder o que aconteceu.edit: só por digitar \"electrum reddit\" já aparece uma que visitei outro dia Crie um tópico no board internacional, também. Tem gente aqui que sabe muito mais de lightning do que eu. Há uma chance de ter uma solução que não conhecemos.Board da Electrum: https://bitcointalk.org/index.php?board=98.0Boa. De certeza que vai haver malta a responder. No forum internacional de Bitcoin aparecem todos os dias malta a pedir ajuda para recuperar wallets antigas e há sempre malta a responder, mesmo sabendo que muitas vezes é malta a tentar aranjar ajuda para descobrir passwords de wallets que compraram aó na \"candonga\". Outros serão legítimos que estão a tentar recuperar wallets esquecidas, mas há sempre malta a responder!Eu vou aocmpanhar o tópico, mesmo que seja muito raro usar a Electrum e nunca usei para a LN porque tenho o meu node de Bitcoin e o de LN a correr por mim.E se calhar se fores ao Gtihub da Electrum, e pesquisares nos issues, até lá encontras também informação útil. Eu por acaso não fui lá pesquisar pelos teus erros mas se calhar tens boas hipóteses de lá encontrar pistas para ajudar a resolver!Edited;Olha por exemplo, ontem saiu uma versão nova com improvements na LNhttps://bitcointalk.org/index.php?topic=5464191.0Experimenta com essa versão! Pode ser que tenham resolvido algum issue relacionado com o teu problema!Não encontrei a thread que criaste nesse board!",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "bitmover",
      "created_time": "August 23, 2023, 05:11:31 PM",
      "body": "Saiu uma nova versão da electrum que corrige muitos bugs relacionados a lightningPara voce que usa muito a lightning, vale a atualização pra  4.4.6. As vezes soluciona ou muda a mensagem de erro relacionada ao seu problemahttps://github.com/spesmilo/electrum/blob/master/RELEASE-NOTES",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "sabotag3x",
      "created_time": "August 23, 2023, 05:29:25 PMLast edit: August 25, 2023, 11:05:10 PM by sabotag3x",
      "body": "Baixei a nova versão, não adiantou nada.. Mesmo assim já vou usá-la, parece que tinha algum bug grande nas versões antigas Não sabia que existia uma aba da Electrum aqui no fórum  li alguns posts lá e baseado em um deles, é possível que o problema seja com o node no qual estou conectado e não com a Electrum.Então enviei um e-mail para a BitMex (Research) para saber se o node deles está vivo (olhando no 1ml/mempool, parece estar, mas não dá pra entender muito).. a última vez que usei foi em março de 2022.. Vou esperar uma resposta deles.node da BitMex parece estar encolhendo em número de conexões, mas a queda grande ocorreu antes de eu usá-lo pela última vez. fonte: https://mempool.space/lightning/node/0395033b252c6f40e3756984162d68174e2bd8060a129c0d3462a9370471c6d28fQuote from: darkv0rt3x on August 23, 2023, 09:21:07 AMtenho o meu node de Bitcoin e o de LN a correr por mim.Dá muito trabalho? Você precisa ter watchtowers, ficar online 100% do tempo, etc?Uso a Electrum pela facilidade/segurança.. mas nada me impede que eu busque uma solução melhor, principalmente agora que a LN parece estar ganhando mais tração.edit: atualizando o caso..em resposta, a Bitmex pediu se minha conexão com a internet está ok.. \"Hi, did you try a different internet connection.\"Infelizmente só tenho acesso a uma rede aqui e nem sequer consigo mudar de IP (até consigo, mas é um processo chato).. então não testei isso.Desativei a opção \"trampolim\" para testar.. dessa forma (desativada) a Electrum conecta a todos nodes toda vez que você abre a carteira, mas não mudou nada.. chequei se o anti-vírus estava bloqueando alguma conexão, nada também..Nas buscas achei um tópico no Reddit onde um cara abriu um canal com o próprio node, mas também aparecia como 'desconectado' após um tempo.. nenhuma solução foi apresentada.Enfim, fechei o canal à força sem entender o que aconteceu.",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "TryNinja",
      "created_time": "August 26, 2023, 10:54:14 AM",
      "body": "Quote from: sabotag3x on August 23, 2023, 05:29:25 PMEnfim, fechei o canal à força sem entender o que aconteceu.E o que deu? Recebeu suas moedinhas ou perdeu elas por ter “tentado enganar” a sua contraparte?",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "sabotag3x",
      "created_time": "August 26, 2023, 10:20:52 PM",
      "body": "Quote from: TryNinja on August 26, 2023, 10:54:14 AME o que deu? Recebeu suas moedinhas ou perdeu elas por ter “tentado enganar” a sua contraparte? A transação está na fila desde então.. não dá para escolher a taxa de transação (com 6 sats/b ainda não foi confirmada).. mas parece ter funcionado..Na verdade, pelo que entendi o backup é apenas para os canais serem mostrados na carteira, o que já estava.. meu problema parecia ser outro, de conexão.. lembro que quando abri meu primeiro canal também tive esse problema, mas o nó ao qual eu estava conectado havia sido desligado.. agora é outra coisa..",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "darkv0rt3x",
      "created_time": "August 28, 2023, 01:13:10 PMLast edit: August 28, 2023, 02:18:21 PM by darkv0rt3x",
      "body": "Quote from: sabotag3x on August 23, 2023, 05:29:25 PMQuote from: darkv0rt3x on August 23, 2023, 09:21:07 AMtenho o meu node de Bitcoin e o de LN a correr por mim.A mim só me dá trabalho  quando é para actualizar o Core Lightning (e podia dar menos). De resto é tranquilo. Para nodes pequenos como o meu, vou alterando as fees manualmente de vez em quando. E quando vejo que é necessário, faço rebalance aos canais!De resto foi só quando foi para instalar e configurar pela primeira vez. Andei um bocado às aranhas, mas lá consegui pôr tudo a funcionar!Edited;Tentei ligar a esse node da BitMex e também não consegui!Code:$ lightning-cli connect 0395033b252c6f40e3756984162d68174e2bd8060a129c0d3462a9370471c6d28f{   \"code\": 401,   \"message\": \"All addresses failed: Error connecting to 65.109.71.42: Tor server reply: general SOCKS server failure. 65.109.71.42:9735: Connection establishment: Connection refused. \"}",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "sabotag3x",
      "created_time": "August 29, 2023, 10:49:21 AM",
      "body": "Quote from: darkv0rt3x on August 28, 2023, 01:13:10 PMTentei ligar a esse node da BitMex e também não consegui!Será que é esse o problema então? Estranho que entrei em contato com eles e não informaram nada de errado.. no site deles também está este mesmo endereço.",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "darkv0rt3x",
      "created_time": "August 29, 2023, 12:13:03 PM",
      "body": "Quote from: sabotag3x on August 29, 2023, 10:49:21 AMQuote from: darkv0rt3x on August 28, 2023, 01:13:10 PMTentei ligar a esse node da BitMex e também não consegui!Será que é esse o problema então? Estranho que entrei em contato com eles e não informaram nada de errado.. no site deles também está este mesmo endereço.Certeza não tenho. Tentei agora mesmo fazer um ping ao IP deles e o IP responde. Portanto, o PC/server/whatever onde eles supostamente tinham o node a correr, está acessível.Tentei também usar o URI do node e o que obtive nos logs, foi isto:Code:2023-08-29T12:12:12.172Z DEBUG   connectd: Error connecting to fjpmf23cd2c6sqp7e4wzexa6ixkttl3jabivldakwq733tw634ymjbid.onion: Tor server reply: host unreachable2023-08-29T12:12:12.173Z DEBUG   0273da0a525390c36857841e208f1d289275c76ebfa7ecfde697c6cbf4f235b4f5-connectd: Failed connected out: All addresses failed: Error connecting to fjpmf23cd2c6sqp7e4wzexa6ixkttl3jabivldakwq733tw634ymjbid.onion: Tor server reply: host unreachable. fjpmf23cd2c6sqp7e4wzexa6ixkttl3jabivldakwq733tw634ymjbid.onion:9735: Connection establishment: Connection refused. 2023-08-29T12:12:12.174Z DEBUG   0273da0a525390c36857841e208f1d289275c76ebfa7ecfde697c6cbf4f235b4f5-lightningd: Will try reconnect in 300 secondsOu eles têm o tor com problemas ou então não sei!",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "sabotag3x",
      "created_time": "September 30, 2023, 06:29:01 PM",
      "body": "Quote from: bitmover on August 23, 2023, 05:11:31 PMSaiu uma nova versão da electrum que corrige muitos bugs relacionados a lightningPara voce que usa muito a lightning, vale a atualização pra  4.4.6. As vezes soluciona ou muda a mensagem de erro relacionada ao seu problemahttps://github.com/spesmilo/electrum/blob/master/RELEASE-NOTESEstava lendo sobre tal bug agora.. parece que haviam três, um deles de \"alta gravidade\" e dois médios, mas só afetavam a versão para Android: https://github.com/spesmilo/electrum/security/advisoriesQuoteAo enviar pagamentos, a contraparte do canal direto pode roubar o valor do pagamento enviado sem realmente encaminhá-lo. Isso ocorre porque, ao receber uma mensagem update_fulfill_htlc, o hash da pré-imagem para o payment_hash só foi verificado em uma declaração, e as declarações foram desabilitadas nas compilações do Android.Resumindo o bug crítico: \"Bob\" podia afirmar que pagou \"Carol\" ao mostrar uma pré-imagem para \"Alice\" (as transações ocorrem em rotas na LN), mas não repassar a quantia em questão, ficando com ela para si.Não foram divulgados números relacionados a essa falha..E também não me ajudou em nada essa atualização.",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    },
    {
      "author": "darkv0rt3x",
      "created_time": "October 04, 2023, 02:33:30 PM",
      "body": "Não tinhas criado uma thread também no forum internacional ? Têm-te respondido lá?Realmente é uma pena se não conseguires recuperar isso. Mas após tantas tentativas, já não sei não. Já se tentou uma carrada de coisas diferentes e não se conseguiu.Faz bump na outra thread!",
      "score": 0,
      "upvotes": 0,
      "downvotes": 0
    }
  ]
}